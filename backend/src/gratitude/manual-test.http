### Gratitude API Manual Tests
### Base URL: http://localhost:3000/api/v1

### Variables
@baseUrl = http://localhost:3000/api/v1
@authToken = your_jwt_token_here
@householdId = your_household_id_here
@gratitudeId = your_gratitude_id_here
@categoryId = your_category_id_here
@transactionId = your_transaction_id_here

### 1. Create a new gratitude entry (TREAT)
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "John Doe",
  "type": "TREAT",
  "description": "Bought me coffee at Starbucks",
  "date": "2024-01-15",
  "categoryId": "{{categoryId}}",
  "transactionId": "{{transactionId}}",
  "estimatedValueCents": 5000,
  "currency": "IDR"
}

### 2. Create a gratitude entry (HELP)
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Jane Smith",
  "type": "HELP",
  "description": "Helped me move furniture",
  "date": "2024-01-10",
  "estimatedValueCents": 15000,
  "currency": "IDR"
}

### 3. Create a gratitude entry (GIFT)
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Mom",
  "type": "GIFT",
  "description": "Birthday present - new headphones",
  "date": "2024-01-05",
  "estimatedValueCents": 50000,
  "currency": "IDR"
}

### 4. Get all gratitude entries (paginated)
GET {{baseUrl}}/gratitude?page=1&limit=10
Authorization: Bearer {{authToken}}

### 5. Get gratitude entries with filters
GET {{baseUrl}}/gratitude?type=TREAT&giver=John&page=1&limit=5
Authorization: Bearer {{authToken}}

### 6. Get gratitude entries with date range
GET {{baseUrl}}/gratitude?fromDate=2024-01-01&toDate=2024-01-31
Authorization: Bearer {{authToken}}

### 7. Search gratitude entries
GET {{baseUrl}}/gratitude?search=coffee
Authorization: Bearer {{authToken}}

### 8. Get gratitude summary
GET {{baseUrl}}/gratitude/summary
Authorization: Bearer {{authToken}}

### 9. Get gratitude summary with date filter
GET {{baseUrl}}/gratitude/summary?fromDate=2024-01-01&toDate=2024-01-31
Authorization: Bearer {{authToken}}

### 10. Get relationship insights
GET {{baseUrl}}/gratitude/insights
Authorization: Bearer {{authToken}}

### 11. Get specific gratitude entry
GET {{baseUrl}}/gratitude/{{gratitudeId}}
Authorization: Bearer {{authToken}}

### 12. Update gratitude entry
PATCH {{baseUrl}}/gratitude/{{gratitudeId}}
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "description": "Updated: Bought me coffee and pastry at Starbucks",
  "estimatedValueCents": 7500
}

### 13. Update gratitude entry - change type
PATCH {{baseUrl}}/gratitude/{{gratitudeId}}
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "type": "GIFT",
  "description": "Actually was a gift, not just a treat"
}

### 14. Delete gratitude entry
DELETE {{baseUrl}}/gratitude/{{gratitudeId}}
Authorization: Bearer {{authToken}}

### 15. Test error cases - Invalid gratitude type
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Test User",
  "type": "INVALID_TYPE",
  "description": "This should fail",
  "date": "2024-01-15"
}

### 16. Test error cases - Missing required fields
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Test User",
  "description": "Missing type and date"
}

### 17. Test error cases - Invalid date format
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Test User",
  "type": "TREAT",
  "description": "Invalid date format",
  "date": "not-a-date"
}

### 18. Test error cases - Negative estimated value
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Test User",
  "type": "TREAT",
  "description": "Negative value test",
  "date": "2024-01-15",
  "estimatedValueCents": -1000
}

### 19. Test error cases - Non-existent category
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Test User",
  "type": "TREAT",
  "description": "Non-existent category",
  "date": "2024-01-15",
  "categoryId": "00000000-0000-0000-0000-000000000000"
}

### 20. Test error cases - Non-existent transaction
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Test User",
  "type": "TREAT",
  "description": "Non-existent transaction",
  "date": "2024-01-15",
  "transactionId": "00000000-0000-0000-0000-000000000000"
}

### 21. Bulk create gratitude entries for testing analytics
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Partner",
  "type": "TREAT",
  "description": "Morning coffee",
  "date": "2024-01-01",
  "estimatedValueCents": 4000
}

###
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Partner",
  "type": "HELP",
  "description": "Did the dishes",
  "date": "2024-01-02"
}

###
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Friend",
  "type": "GIFT",
  "description": "Book recommendation",
  "date": "2024-01-03",
  "estimatedValueCents": 25000
}

###
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Partner",
  "type": "TREAT",
  "description": "Lunch at favorite restaurant",
  "date": "2024-01-04",
  "estimatedValueCents": 35000
}

###
POST {{baseUrl}}/gratitude
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "giver": "Colleague",
  "type": "HELP",
  "description": "Helped with presentation",
  "date": "2024-01-05"
}

### 22. Test pagination
GET {{baseUrl}}/gratitude?page=1&limit=3
Authorization: Bearer {{authToken}}

###
GET {{baseUrl}}/gratitude?page=2&limit=3
Authorization: Bearer {{authToken}}

### 23. Test comprehensive filtering
GET {{baseUrl}}/gratitude?type=TREAT&fromDate=2024-01-01&toDate=2024-01-31&search=coffee
Authorization: Bearer {{authToken}}

### 24. Test summary with different date ranges
GET {{baseUrl}}/gratitude/summary?fromDate=2024-01-01&toDate=2024-01-07
Authorization: Bearer {{authToken}}

###
GET {{baseUrl}}/gratitude/summary?fromDate=2024-01-08&toDate=2024-01-15
Authorization: Bearer {{authToken}}

### 25. Test insights after creating multiple entries
GET {{baseUrl}}/gratitude/insights
Authorization: Bearer {{authToken}}
