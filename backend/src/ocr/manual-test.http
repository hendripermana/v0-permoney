### OCR & Document Processing Manual Tests

### 1. Health Check
GET http://localhost:3000/api/ocr/health
Authorization: Bearer {{jwt_token}}

### 2. Upload Receipt Document
POST http://localhost:3000/api/ocr/upload
Authorization: Bearer {{jwt_token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="documentType"

RECEIPT
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="householdId"

{{household_id}}
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="description"

Starbucks receipt from mall
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="receipt.jpg"
Content-Type: image/jpeg

< ./test-files/receipt.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 3. Upload Bank Statement
POST http://localhost:3000/api/ocr/upload
Authorization: Bearer {{jwt_token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="documentType"

BANK_STATEMENT
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="householdId"

{{household_id}}
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="statement.pdf"
Content-Type: application/pdf

< ./test-files/statement.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 4. Process Document
POST http://localhost:3000/api/ocr/process
Authorization: Bearer {{jwt_token}}
Content-Type: application/json

{
  "documentId": "{{document_id}}",
  "forceReprocess": false
}

### 5. Get Document Details
GET http://localhost:3000/api/ocr/documents/{{document_id}}
Authorization: Bearer {{jwt_token}}

### 6. Get Documents by Household
GET http://localhost:3000/api/ocr/documents/{{household_id}}
Authorization: Bearer {{jwt_token}}

### 7. Get Transaction Suggestions
GET http://localhost:3000/api/ocr/documents/{{document_id}}/suggestions
Authorization: Bearer {{jwt_token}}

### 8. Validate OCR Result
POST http://localhost:3000/api/ocr/validate
Authorization: Bearer {{jwt_token}}
Content-Type: application/json

{
  "ocrResultId": "{{ocr_result_id}}",
  "corrections": {
    "amount.total": 50000,
    "merchant.name": "Corrected Merchant Name",
    "date": "2024-01-16"
  }
}

### 9. Approve Transaction Suggestion
POST http://localhost:3000/api/ocr/suggestions/approve
Authorization: Bearer {{jwt_token}}
Content-Type: application/json

{
  "suggestionId": "{{suggestion_id}}",
  "accountId": "{{account_id}}",
  "corrections": {
    "description": "Coffee at Starbucks - corrected",
    "amount": -50000,
    "categoryId": "{{category_id}}"
  }
}

### Variables to set:
# jwt_token: Your JWT authentication token
# household_id: UUID of the household
# document_id: UUID of the uploaded document
# ocr_result_id: UUID of the OCR result
# suggestion_id: UUID of the transaction suggestion
# account_id: UUID of the target account
# category_id: UUID of the category (optional)
