"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{99115:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var t=s(73365),l=s(1521),c=s(86123),i=s(18159),n=s(58005),d=s(35049),r=s(33414),u=s(41568),o=s(81459),m=s(87982);let h=(0,m.A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),x=(0,m.A)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),p=[{value:"COMPLIANT",label:"Compliant",style:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},{value:"NON_COMPLIANT",label:"Non-Compliant",style:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},{value:"UNDER_REVIEW",label:"Under Review",style:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200"},{value:"QUESTIONABLE",label:"Questionable",style:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}];function v(e){let{accountId:a}=e,[s,m]=(0,l.useState)(!1),[v,g]=(0,l.useState)(""),[b,j]=(0,l.useState)(""),N=(0,l.useMemo)(()=>p.find(e=>e.value===v),[v]);async function f(){try{m(!0);let e=await c.uE.getAccountCompliance(a);e&&(g(e.complianceStatus),j(e.complianceNotes||""))}catch(e){}finally{m(!1)}}async function y(){if(a)try{m(!0);let e=await c.uE.autoAssessAccountCompliance(a);g(e.suggestedStatus),(0,o.oR)({title:"Assessment complete",description:"Suggested: ".concat(e.suggestedStatus)})}catch(e){(0,o.oR)({title:"Assessment failed",description:"Could not auto-assess.",variant:"destructive"})}finally{m(!1)}}async function C(){if(a&&v)try{m(!0),await c.uE.updateAccountCompliance({accountId:a,complianceStatus:v,complianceNotes:b||void 0}),(0,o.oR)({title:"Saved",description:"Compliance status saved."})}catch(e){(0,o.oR)({title:"Save failed",description:"Could not update status.",variant:"destructive"})}finally{m(!1)}}return(0,l.useEffect)(()=>{a&&f()},[a]),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(null==N?void 0:N.value)==="COMPLIANT"?(0,t.jsx)(h,{className:"h-5 w-5 text-green-600"}):(0,t.jsx)(x,{className:"h-5 w-5 text-amber-600"}),"Sharia Compliance"]}),(0,t.jsx)(i.BT,{children:"Track and manage this accountâ€™s Sharia status."})]}),(0,t.jsx)(i.Wu,{children:a?s?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(u.EA,{className:"h-4 w-1/3"}),(0,t.jsx)(u.EA,{className:"h-8 w-full"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Current status:"}),N?(0,t.jsx)(r.E,{className:N.style,children:N.label}):(0,t.jsx)(r.E,{variant:"outline",children:"Unknown"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-2 text-sm font-medium",children:"Update Status"}),(0,t.jsxs)(d.l6,{value:v,onValueChange:g,children:[(0,t.jsx)(d.bq,{children:(0,t.jsx)(d.yv,{placeholder:"Select status"})}),(0,t.jsx)(d.gC,{children:p.map(e=>(0,t.jsx)(d.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-2 text-sm font-medium",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.$,{variant:"secondary",onClick:y,disabled:s,children:"Auto Assess"}),(0,t.jsx)(n.$,{onClick:C,disabled:s||!v,children:"Save"})]})]})]})]}):(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Save the account first to manage compliance."})})]})}}}]);