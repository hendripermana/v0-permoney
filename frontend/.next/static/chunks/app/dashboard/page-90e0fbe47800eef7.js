(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{18541:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>c,TN:()=>o,XL:()=>d});var a=t(73365),r=t(1521),n=t(82934),l=t(14130);let i=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,l.cn)(i({variant:r}),t),...n})});c.displayName="Alert";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})});d.displayName="AlertTitle";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",t),...r})});o.displayName="AlertDescription"},69672:(e,s,t)=>{"use strict";t.d(s,{Progress:()=>i});var a=t(73365),r=t(1521),n=t(28475),l=t(14130);let i=r.forwardRef((e,s)=>{let{className:t,value:r,...i}=e;return(0,a.jsx)(n.bL,{ref:s,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,a.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});i.displayName=n.bL.displayName},82939:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ef});var a=t(73365),r=t(1521),n=t(18159),l=t(58005),i=t(33414),c=t(69672),d=t(95561),o=t(35049),x=t(47736),m=t(69673),u=t(75878),h=t(14130);let g={light:"",dark:".dark"},j=r.createContext(null);function f(){let e=r.useContext(j);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let v=r.forwardRef((e,s)=>{let{id:t,className:n,children:l,config:i,...c}=e,d=r.useId(),o="chart-".concat(t||d.replace(/:/g,""));return(0,a.jsx)(j.Provider,{value:{config:i},children:(0,a.jsxs)("div",{"data-chart":o,ref:s,className:(0,h.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...c,children:[(0,a.jsx)(p,{id:o,config:i}),(0,a.jsx)(x.u,{children:l})]})})});v.displayName="Chart";let p=e=>{let{id:s,config:t}=e,r=Object.entries(t).filter(e=>{let[s,t]=e;return t.theme||t.color});return r.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(g).map(e=>{let[t,a]=e;return"\n".concat(a," [data-chart=").concat(s,"] {\n").concat(r.map(e=>{var s;let[a,r]=e,n=(null===(s=r.theme)||void 0===s?void 0:s[t])||r.color;return n?"  --color-".concat(a,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},N=m.m;function b(e,s,t){if("object"!=typeof s||null===s)return;let a="payload"in s&&"object"==typeof s.payload&&null!==s.payload?s.payload:void 0,r=t;return t in s&&"string"==typeof s[t]?r=s[t]:a&&t in a&&"string"==typeof a[t]&&(r=a[t]),r in e?e[r]:e[t]}r.forwardRef((e,s)=>{let{active:t,payload:n,className:l,indicator:i="dot",hideLabel:c=!1,hideIndicator:d=!1,label:o,labelFormatter:x,labelClassName:m,formatter:u,color:g,nameKey:j,labelKey:v}=e,{config:p}=f(),N=r.useMemo(()=>{var e;if(c||!(null==n?void 0:n.length))return null;let[s]=n,t="".concat(v||s.dataKey||s.name||"value"),r=b(p,s,t),l=v||"string"!=typeof o?null==r?void 0:r.label:(null===(e=p[o])||void 0===e?void 0:e.label)||o;return x?(0,a.jsx)("div",{className:(0,h.cn)("font-medium",m),children:x(l,n)}):l?(0,a.jsx)("div",{className:(0,h.cn)("font-medium",m),children:l}):null},[o,x,n,c,m,p,v]);if(!t||!(null==n?void 0:n.length))return null;let y=1===n.length&&"dot"!==i;return(0,a.jsxs)("div",{ref:s,className:(0,h.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",l),children:[y?null:N,(0,a.jsx)("div",{className:"grid gap-1.5",children:n.map((e,s)=>{let t="".concat(j||e.name||e.dataKey||"value"),r=b(p,e,t),n=g||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,h.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:u&&(null==e?void 0:e.value)!==void 0&&e.name?u(e.value,e.name,e,s,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==r?void 0:r.icon)?(0,a.jsx)(r.icon,{}):!d&&(0,a.jsx)("div",{className:(0,h.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":y&&"dashed"===i}),style:{"--color-bg":n,"--color-border":n}}),(0,a.jsxs)("div",{className:(0,h.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[y?N:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})}).displayName="ChartTooltip",u.s,r.forwardRef((e,s)=>{let{className:t,hideIcon:r=!1,payload:n,verticalAlign:l="bottom",nameKey:i}=e,{config:c}=f();return(null==n?void 0:n.length)?(0,a.jsx)("div",{ref:s,className:(0,h.cn)("flex items-center justify-center gap-4","top"===l?"pb-3":"pt-3",t),children:n.map(e=>{let s="".concat(i||e.dataKey||"value"),t=b(c,e,s);return(0,a.jsxs)("div",{className:(0,h.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!r?(0,a.jsx)(t.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null}).displayName="ChartLegend";var y=t(85002),w=t(10580),k=t(62463),A=t(1373),C=t(68238),W=t(733),T=t(85330),D=t(18582),S=t(17961),B=t(71321),F=t(56713),M=t(71872),R=t(67449),E=t(90543),L=t(65917),K=t(21401);let I=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f59e0b"],O={amount:{label:"Amount"},transactions:{label:"Transactions"}};function P(e){let{data:s,timeSeriesData:t=[],period:c="month",onPeriodChange:d,loading:x=!1,className:m}=e,[u,h]=(0,r.useState)("pie"),[g,j]=(0,r.useState)(null),f=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),p=s.reduce((e,s)=>e+s.amount,0),b=s.length>0?s[0]:null,P=s.map((e,s)=>({...e,fill:e.color||I[s%I.length]})),Z=s.map(e=>({category:e.category.length>12?e.category.substring(0,12)+"...":e.category,fullCategory:e.category,amount:e.amount,transactions:e.transactions,fill:e.color||I[s.indexOf(e)%I.length]})),_=e=>{let{active:s,payload:t,label:r}=e;if(s&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[(0,a.jsx)("p",{className:"font-medium",children:e.fullCategory||e.category}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Amount: ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:f(e.amount)})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Transactions: ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:e.transactions})]}),e.percentage&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Percentage: ",(0,a.jsxs)("span",{className:"font-medium text-foreground",children:[e.percentage.toFixed(1),"%"]})]})]})}return null};return(0,a.jsxs)(n.Zp,{className:m,children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"h-5 w-5"}),"Spending Patterns"]}),(0,a.jsx)(n.BT,{children:"Analyze your spending habits across different categories"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.l6,{value:c,onValueChange:d,children:[(0,a.jsx)(o.bq,{className:"w-32",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"week",children:"This Week"}),(0,a.jsx)(o.eb,{value:"month",children:"This Month"}),(0,a.jsx)(o.eb,{value:"quarter",children:"This Quarter"}),(0,a.jsx)(o.eb,{value:"year",children:"This Year"})]})]}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",children:(0,a.jsx)(M.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.$,{variant:"pie"===u?"default":"outline",size:"sm",onClick:()=>h("pie"),children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-1"}),"Pie"]}),(0,a.jsxs)(l.$,{variant:"bar"===u?"default":"outline",size:"sm",onClick:()=>h("bar"),children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-1"}),"Bar"]}),(0,a.jsxs)(l.$,{variant:"trend"===u?"default":"outline",size:"sm",onClick:()=>h("trend"),disabled:0===t.length,children:[(0,a.jsx)(K.A,{className:"h-4 w-4 mr-1"}),"Trend"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:f(p)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Spending"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:s.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Categories"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:s.reduce((e,s)=>e+s.transactions,0)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Transactions"})]}),(0,a.jsx)("div",{className:"text-center",children:b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[b.percentage.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Top Category"})]})})]})]}),(0,a.jsxs)(n.Wu,{children:[(()=>{if(x)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(0===s.length)return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[(0,a.jsx)(F.A,{className:"h-12 w-12 mb-4"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No spending data available"}),(0,a.jsx)("p",{className:"text-sm",children:"Start adding transactions to see your spending patterns"})]});switch(u){case"pie":return(0,a.jsx)(v,{config:O,className:"h-64",children:(0,a.jsxs)(y.r,{children:[(0,a.jsx)(w.F,{data:P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"amount",onMouseEnter:(e,t)=>{var a;return j((null===(a=s[t])||void 0===a?void 0:a.category)||null)},onMouseLeave:()=>j(null),children:P.map((e,s)=>(0,a.jsx)(k.f,{fill:e.fill,stroke:g===e.category?"#000":"none",strokeWidth:2*(g===e.category)},"cell-".concat(s)))}),(0,a.jsx)(N,{content:(0,a.jsx)(_,{})})]})});case"bar":return(0,a.jsx)(v,{config:O,className:"h-64",children:(0,a.jsxs)(A.E,{data:Z,margin:{top:20,right:30,left:20,bottom:5},children:[(0,a.jsx)(C.d,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,a.jsx)(W.W,{dataKey:"category",className:"text-xs",angle:-45,textAnchor:"end",height:80}),(0,a.jsx)(T.h,{className:"text-xs",tickFormatter:e=>f(e).replace(/[^\d.,]/g,"").slice(0,-3)+"K"}),(0,a.jsx)(N,{content:(0,a.jsx)(_,{})}),(0,a.jsx)(D.y,{dataKey:"amount",radius:[4,4,0,0],onMouseEnter:(e,s)=>{var t;return j((null===(t=Z[s])||void 0===t?void 0:t.fullCategory)||null)},onMouseLeave:()=>j(null)})]})});case"trend":return(0,a.jsx)(v,{config:O,className:"h-64",children:(0,a.jsxs)(S.Q,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[(0,a.jsx)(C.d,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,a.jsx)(W.W,{dataKey:"date",className:"text-xs",tickFormatter:e=>new Date(e).toLocaleDateString("id-ID",{month:"short",day:"numeric"})}),(0,a.jsx)(T.h,{className:"text-xs",tickFormatter:e=>f(e).replace(/[^\d.,]/g,"").slice(0,-3)+"K"}),(0,a.jsx)(N,{content:e=>{let{active:s,payload:t,label:r}=e;return s&&t&&t.length?(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[(0,a.jsx)("p",{className:"font-medium",children:r?new Date(r).toLocaleDateString("id-ID"):"Unknown Date"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Amount: ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:f(t[0].value)})]})]}):null}}),(0,a.jsx)(B.G,{type:"monotone",dataKey:"amount",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2,strokeWidth:2})]})});default:return null}})(),s.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Categories"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.slice(0,8).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg border transition-colors ".concat(g===e.category?"bg-muted border-primary":"hover:bg-muted/50"),onMouseEnter:()=>j(e.category),onMouseLeave:()=>j(null),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color||I[s%I.length]}}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.category}),(0,a.jsxs)(i.E,{variant:"secondary",className:"text-xs",children:[e.percentage.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:f(e.amount)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.transactions," transactions"]})]})]},e.category))})]})]})]})}var Z=t(18541),_=t(15842),z=t(86414),$=t(40447),U=t(82717);let X={budgeted:{label:"Budgeted"},spent:{label:"Spent"},remaining:{label:"Remaining"}},H=e=>{switch(e){case"on-track":return"#22c55e";case"warning":return"#eab308";case"over-budget":return"#ef4444";case"completed":return"#3b82f6";default:return"#6b7280"}},Y=e=>{switch(e){case"on-track":return(0,a.jsx)(_.A,{className:"h-4 w-4 text-green-600"});case"warning":return(0,a.jsx)(z.A,{className:"h-4 w-4 text-yellow-600"});case"over-budget":return(0,a.jsx)($.A,{className:"h-4 w-4 text-red-600"});case"completed":return(0,a.jsx)(U.A,{className:"h-4 w-4 text-blue-600"});default:return(0,a.jsx)(U.A,{className:"h-4 w-4 text-gray-600"})}},V=e=>{switch(e){case"on-track":return"On Track";case"warning":return"Warning";case"over-budget":return"Over Budget";case"completed":return"Completed";default:return"Unknown"}};function q(e){let{data:s,period:t="This Month",loading:d=!1,className:o,onCategoryClick:x}=e,[m,u]=(0,r.useState)("chart"),[g,j]=(0,r.useState)(null),f=s.reduce((e,s)=>e+s.budgeted,0),p=s.reduce((e,s)=>e+s.spent,0),b=f-p,y=f>0?p/f*100:0,w=s.map(e=>({...e,categoryShort:e.category.length>10?e.category.substring(0,10)+"...":e.category,fill:H(e.status)})),k=s.filter(e=>"over-budget"===e.status),S=s.filter(e=>"warning"===e.status);return(s.filter(e=>"on-track"===e.status),d)?(0,a.jsxs)(n.Zp,{className:o,children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"animate-pulse space-y-2",children:[(0,a.jsx)("div",{className:"h-6 bg-muted rounded w-48"}),(0,a.jsx)("div",{className:"h-4 bg-muted rounded w-64"})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-64 bg-muted rounded"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"h-16 bg-muted rounded"},s))})]})})]}):(0,a.jsxs)(n.Zp,{className:o,children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(U.A,{className:"h-5 w-5"}),"Budget Progress"]}),(0,a.jsxs)(n.BT,{children:["Track your spending against budgets for ",t]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.$,{variant:"chart"===m?"default":"outline",size:"sm",onClick:()=>u("chart"),children:"Chart"}),(0,a.jsx)(l.$,{variant:"list"===m?"default":"outline",size:"sm",onClick:()=>u("list"),children:"List"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary",children:(0,h.vv)(f)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Budget"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:(0,h.vv)(p)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Spent"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold ".concat(b>=0?"text-green-600":"text-red-600"),children:(0,h.vv)(Math.abs(b))}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:b>=0?"Remaining":"Over Budget"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(y<=80?"text-green-600":y<=100?"text-yellow-600":"text-red-600"),children:[y.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Overall Progress"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Overall Budget Progress"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[(0,h.vv)(p)," / ",(0,h.vv)(f)]})]}),(0,a.jsx)(c.Progress,{value:Math.min(y,100),className:"h-3 ".concat(y<=80?"":y<=100?"[&>div]:bg-yellow-500":"[&>div]:bg-red-500")})]})]}),(0,a.jsxs)(n.Wu,{children:[k.length>0&&(0,a.jsxs)(Z.Fc,{variant:"destructive",className:"mb-4",children:[(0,a.jsx)($.A,{className:"h-4 w-4"}),(0,a.jsxs)(Z.TN,{children:[k.length," ",1===k.length?"category is":"categories are"," over budget: "," ",k.map(e=>e.category).join(", ")]})]}),S.length>0&&(0,a.jsxs)(Z.Fc,{className:"mb-4",children:[(0,a.jsx)(z.A,{className:"h-4 w-4"}),(0,a.jsxs)(Z.TN,{children:[S.length," ",1===S.length?"category needs":"categories need"," attention: "," ",S.map(e=>e.category).join(", ")]})]}),0===s.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[(0,a.jsx)(U.A,{className:"h-12 w-12 mb-4"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No budget data available"}),(0,a.jsx)("p",{className:"text-sm",children:"Create budgets to track your spending progress"})]}):"chart"===m?(0,a.jsx)(v,{config:X,className:"h-64",children:(0,a.jsxs)(A.E,{data:w,margin:{top:20,right:30,left:20,bottom:60},children:[(0,a.jsx)(C.d,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,a.jsx)(W.W,{dataKey:"categoryShort",className:"text-xs",angle:-45,textAnchor:"end",height:80}),(0,a.jsx)(T.h,{className:"text-xs",tickFormatter:e=>(0,h.vv)(e).replace(/[^\d.,]/g,"").slice(0,-3)+"K"}),(0,a.jsx)(N,{content:(0,a.jsx)(e=>{let{active:s,payload:t,label:r}=e;if(s&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[(0,a.jsx)("p",{className:"font-medium",children:e.category}),(0,a.jsxs)("div",{className:"space-y-1 mt-2",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Budgeted: ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:(0,h.vv)(e.budgeted)})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Spent: ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:(0,h.vv)(e.spent)})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Remaining: ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:(0,h.vv)(e.remaining)})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Progress: ",(0,a.jsxs)("span",{className:"font-medium text-foreground",children:[e.percentage.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[Y(e.status),(0,a.jsx)("span",{className:"text-sm font-medium",children:V(e.status)})]})]})]})}return null},{})}),(0,a.jsx)(D.y,{dataKey:"spent",radius:[4,4,0,0],onClick:e=>{e&&e.payload&&(j(e.payload.category),null==x||x(e.payload.category))},className:"cursor-pointer"})]})}):(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"p-4 rounded-lg border transition-colors cursor-pointer ".concat(g===e.category?"bg-muted border-primary":"hover:bg-muted/50"),onClick:()=>{j(e.category),null==x||x(e.category)},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.category}),(0,a.jsx)(i.E,{variant:"over-budget"===e.status?"destructive":"secondary",className:"text-xs",children:V(e.status)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[Y(e.status),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(e.percentage<=80?"text-green-600":e.percentage<=100?"text-yellow-600":"text-red-600"),children:[e.percentage.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,a.jsxs)("span",{className:"font-medium",children:[(0,h.vv)(e.spent)," / ",(0,h.vv)(e.budgeted)]})]}),(0,a.jsx)(c.Progress,{value:Math.min(e.percentage,100),className:"h-2 ".concat(e.percentage<=80?"":e.percentage<=100?"[&>div]:bg-yellow-500":"[&>div]:bg-red-500")}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[e.transactions," transactions"]}),(0,a.jsxs)("span",{className:e.remaining>=0?"text-green-600":"text-red-600",children:[e.remaining>=0?"":"Over by ",(0,h.vv)(Math.abs(e.remaining)),e.remaining>=0?" remaining":""]})]})]})]},e.category))})]})]})}var J=t(8468),Q=t(89122),G=t(61610),ee=t(45333),es=t(85300),et=t(35788),ea=t(48760),er=t(46080);let en={assets:{label:"Assets"},liabilities:{label:"Liabilities"},netWorth:{label:"Net Worth"}},el={"7d":"Last 7 Days","30d":"Last 30 Days","90d":"Last 3 Months","1y":"Last Year",all:"All Time"};function ei(e){let{data:s,period:t="30d",onPeriodChange:i,loading:c=!1,className:d,showBreakdown:x=!0}=e,[m,u]=(0,r.useState)("area"),[h,g]=(0,r.useState)(null),j=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),f=e=>new Date(e).toLocaleDateString("id-ID",{month:"short",day:"numeric",year:"1y"===t||"all"===t?"numeric":void 0}),p=s.length>0?s[s.length-1].netWorth:0,b=s.length>1?s[s.length-2].netWorth:p,y=p-b,w=s.length>0?s[s.length-1].assets:0,k=s.length>0?s[s.length-1].liabilities:0,A=Math.min(...s.map(e=>e.netWorth)),E=Math.max(...s.map(e=>e.netWorth)),L=s.length>1?s[s.length-1].netWorth-s[0].netWorth:0,I=s.length>1&&0!==s[0].netWorth?L/s[0].netWorth*100:0,O=e=>{let{active:s,payload:t,label:r}=e;if(s&&t&&t.length){let e=t[0].payload;return(0,a.jsxs)("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[(0,a.jsx)("p",{className:"font-medium",children:f(r)}),(0,a.jsxs)("div",{className:"space-y-1 mt-2",children:[x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Assets: ",(0,a.jsx)("span",{className:"font-medium text-green-600",children:j(e.assets)})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Liabilities: ",(0,a.jsx)("span",{className:"font-medium text-red-600",children:j(e.liabilities)})]})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Net Worth: ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:j(e.netWorth)})]}),void 0!==e.change&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.change>0?(0,a.jsx)(ee.A,{className:"h-3 w-3 text-green-600"}):e.change<0?(0,a.jsx)(es.A,{className:"h-3 w-3 text-red-600"}):(0,a.jsx)(et.A,{className:"h-3 w-3 text-gray-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(e.change>0?"text-green-600":e.change<0?"text-red-600":"text-gray-600"),children:[j(Math.abs(e.change)),void 0!==e.changePercentage&&(0,a.jsxs)("span",{className:"ml-1",children:["(",e.changePercentage.toFixed(2),"%)"]})]})]})]})]})}return null};return(0,a.jsxs)(n.Zp,{className:d,children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(K.A,{className:"h-5 w-5"}),"Net Worth Trend"]}),(0,a.jsxs)(n.BT,{children:["Track your financial progress over ",el[t]]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.l6,{value:t,onValueChange:i,children:[(0,a.jsx)(o.bq,{className:"w-32",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"7d",children:"7 Days"}),(0,a.jsx)(o.eb,{value:"30d",children:"30 Days"}),(0,a.jsx)(o.eb,{value:"90d",children:"3 Months"}),(0,a.jsx)(o.eb,{value:"1y",children:"1 Year"}),(0,a.jsx)(o.eb,{value:"all",children:"All Time"})]})]}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",children:(0,a.jsx)(M.A,{className:"h-4 w-4"})}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.$,{variant:"area"===m?"default":"outline",size:"sm",onClick:()=>u("area"),children:[(0,a.jsx)(F.A,{className:"h-4 w-4 mr-1"}),"Area"]}),(0,a.jsxs)(l.$,{variant:"line"===m?"default":"outline",size:"sm",onClick:()=>u("line"),children:[(0,a.jsx)(K.A,{className:"h-4 w-4 mr-1"}),"Line"]}),x&&(0,a.jsxs)(l.$,{variant:"composed"===m?"default":"outline",size:"sm",onClick:()=>u("composed"),children:[(0,a.jsx)(ea.A,{className:"h-4 w-4 mr-1"}),"Breakdown"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold ".concat(p>=0?"text-green-600":"text-red-600"),children:j(p)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Current Net Worth"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[y>0?(0,a.jsx)(ee.A,{className:"h-4 w-4 text-green-600"}):y<0?(0,a.jsx)(es.A,{className:"h-4 w-4 text-red-600"}):(0,a.jsx)(et.A,{className:"h-4 w-4 text-gray-600"}),(0,a.jsx)("p",{className:"text-2xl font-bold ".concat(y>0?"text-green-600":y<0?"text-red-600":"text-gray-600"),children:j(Math.abs(y))})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Recent Change (",(0!==b?y/b*100:0).toFixed(2),"%)"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:j(w)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Assets"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:j(k)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Liabilities"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:j(A)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Period Low"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:j(E)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Period High"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[L>0?(0,a.jsx)(K.A,{className:"h-4 w-4 text-green-600"}):L<0?(0,a.jsx)(er.A,{className:"h-4 w-4 text-red-600"}):(0,a.jsx)(et.A,{className:"h-4 w-4 text-gray-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(L>0?"text-green-600":L<0?"text-red-600":"text-gray-600"),children:[j(Math.abs(L))," (",I.toFixed(2),"%)"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Period Change"})]})]})]}),(0,a.jsx)(n.Wu,{children:(()=>{if(c)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(0===s.length)return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[(0,a.jsx)(F.A,{className:"h-12 w-12 mb-4"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"No net worth data available"}),(0,a.jsx)("p",{className:"text-sm",children:"Add accounts and transactions to track your net worth"})]});let e={data:s,margin:{top:20,right:30,left:20,bottom:5}};switch(m){case"line":return(0,a.jsx)(v,{config:en,className:"h-64",children:(0,a.jsxs)(J.b,{...e,children:[(0,a.jsx)(C.d,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,a.jsx)(W.W,{dataKey:"date",className:"text-xs",tickFormatter:f}),(0,a.jsx)(T.h,{className:"text-xs",tickFormatter:e=>j(e).replace(/[^\d.,]/g,"").slice(0,-3)+"K"}),(0,a.jsx)(N,{content:(0,a.jsx)(O,{})}),(0,a.jsx)(Q.N,{type:"monotone",dataKey:"netWorth",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3b82f6",strokeWidth:2}})]})});case"area":return(0,a.jsx)(v,{config:en,className:"h-64",children:(0,a.jsxs)(S.Q,{...e,children:[(0,a.jsx)(C.d,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,a.jsx)(W.W,{dataKey:"date",className:"text-xs",tickFormatter:f}),(0,a.jsx)(T.h,{className:"text-xs",tickFormatter:e=>j(e).replace(/[^\d.,]/g,"").slice(0,-3)+"K"}),(0,a.jsx)(N,{content:(0,a.jsx)(O,{})}),(0,a.jsx)(B.G,{type:"monotone",dataKey:"netWorth",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2,strokeWidth:2})]})});case"composed":return(0,a.jsx)(v,{config:en,className:"h-64",children:(0,a.jsxs)(G.X,{...e,children:[(0,a.jsx)(C.d,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,a.jsx)(W.W,{dataKey:"date",className:"text-xs",tickFormatter:f}),(0,a.jsx)(T.h,{className:"text-xs",tickFormatter:e=>j(e).replace(/[^\d.,]/g,"").slice(0,-3)+"K"}),(0,a.jsx)(N,{content:(0,a.jsx)(O,{})}),(0,a.jsx)(D.y,{dataKey:"assets",fill:"#22c55e",fillOpacity:.6}),(0,a.jsx)(D.y,{dataKey:"liabilities",fill:"#ef4444",fillOpacity:.6}),(0,a.jsx)(Q.N,{type:"monotone",dataKey:"netWorth",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]})});default:return null}})()})]})}var ec=t(63678),ed=t(49703),eo=t(16282),ex=t(87903),em=t(37717),eu=t(23060),eh=t(11892),eg=t(86123),ej=t(81459);function ef(){var e,s;let[t,o]=(0,r.useState)("month"),[x,m]=(0,r.useState)("30d"),{data:u,loading:g,error:j,refetch:f}=function(){let[e,s]=(0,r.useState)(null),[t,a]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null),i=async()=>{try{a(!0),l(null);let e=new Date,t=new Date;t.setDate(t.getDate()-30),t.toISOString(),e.toISOString();let[r,n,i,c,d]=await Promise.all([eg.uE.getAccounts({isActive:!0}),eg.uE.getTransactions({limit:10,orderBy:"createdAt",orderDirection:"desc"}),eg.uE.getBudgets({isActive:!0}),eg.uE.getNetWorth("IDR"),eg.uE.getAccountStats()]);s({accounts:r,transactions:n,budgets:i,analytics:null,netWorth:c,accountStats:d})}catch(e){console.error("Failed to fetch dashboard data:",e),l(e instanceof Error?e.message:"Failed to fetch dashboard data"),s({accounts:[],transactions:[],budgets:[],analytics:null,netWorth:null,accountStats:null})}finally{a(!1)}};return(0,r.useEffect)(()=>{i()},[]),{data:e,loading:t,error:n,refetch:async()=>{await i()}}}(),v=e=>{m(e)},p=null!==(s=null==u?void 0:u.transactions)&&void 0!==s?s:[],N=(0,r.useMemo)(()=>(null==p?void 0:p.length)?p.map(e=>{var s,t,a,r,n;let l=(0,h.Ju)(e.amountCents,0),i=(0,h.sp)(l),c=new Date(null!==(a=null!==(t=e.date)&&void 0!==t?t:e.createdAt)&&void 0!==a?a:new Date().toISOString());return{id:e.id,description:null!==(r=e.description)&&void 0!==r?r:"Unknown Transaction",amount:i,amountCents:l,type:i>0?"income":i<0?"expense":"transfer",date:c,formattedDate:(0,h.sL)(c),category:null!==(n=null===(s=e.category)||void 0===s?void 0:s.name)&&void 0!==n?n:"Uncategorized"}}):[],[p]),b=(0,r.useMemo)(()=>{var e,s,t;if(!u)return{totalBalance:0,monthlyIncome:0,monthlyExpenses:0,savings:0,totalLiabilities:0};let a=p.reduce((e,s)=>{let t=(0,h.Ju)(s.amountCents,0);return t>0?e+t:e},0),r=p.reduce((e,s)=>{let t=(0,h.Ju)(s.amountCents,0);return t<0?e+t:e},0),n=(0,h.sp)(null===(e=u.netWorth)||void 0===e?void 0:e.totalAssets),l=(0,h.sp)(null===(s=u.netWorth)||void 0===s?void 0:s.totalLiabilities),i=(0,h.sp)(null===(t=u.netWorth)||void 0===t?void 0:t.netWorth);return{totalBalance:n,monthlyIncome:(0,h.sp)(a),monthlyExpenses:(0,h.sp)(Math.abs(r)),savings:i||n-l,totalLiabilities:l}},[u,p]),y=(0,r.useMemo)(()=>{if(b.monthlyIncome<=0)return 0;let e=(b.monthlyIncome-b.monthlyExpenses)/b.monthlyIncome*100;return Number.isFinite(e)?Math.max(e,0):0},[b]),w=(0,r.useMemo)(()=>N.slice(0,5),[N]),k=(0,r.useMemo)(()=>{var e;return(null==u?void 0:null===(e=u.budgets)||void 0===e?void 0:e.length)?u.budgets.flatMap(e=>{var s;return(null!==(s=e.categories)&&void 0!==s?s:[]).map(s=>{var t,a,r,n,l,i,c,d,o;let x=(0,h.sp)(s.allocatedAmountCents),m=(0,h.sp)(s.spentAmountCents),u=Math.max(0,x-m),g=x>0?m/x*100:0,j="on-track";return g>=100?j="over-budget":g>=80&&(j="warning"),{id:null!==(l=s.id)&&void 0!==l?l:"".concat(e.id,"-").concat(null!==(n=s.categoryId)&&void 0!==n?n:"unknown"),category:null!==(i=null===(t=s.category)||void 0===t?void 0:t.name)&&void 0!==i?i:"Unknown Category",budgeted:x,spent:m,remaining:u,percentage:g,status:j,transactions:null!==(d=null!==(c=s.transactionCount)&&void 0!==c?c:null===(a=s.transactions)||void 0===a?void 0:a.length)&&void 0!==d?d:0,color:(0,h.oK)(null!==(o=null===(r=s.category)||void 0===r?void 0:r.name)&&void 0!==o?o:"Unknown Category")}})}):[]},[null==u?void 0:u.budgets]),A=(0,r.useMemo)(()=>k.slice(0,4),[k]),C=(0,r.useMemo)(()=>{if(!N.length)return[];let e=new Map;N.filter(e=>e.amount<0).forEach(s=>{var t;let a=s.category,r=null!==(t=e.get(a))&&void 0!==t?t:{amount:0,transactions:0};r.amount+=Math.abs(s.amount),r.transactions+=1,e.set(a,r)});let s=Array.from(e.values()).reduce((e,s)=>e+s.amount,0);return Array.from(e.entries()).map(e=>{let[t,a]=e;return{category:t,amount:a.amount,transactions:a.transactions,trend:"stable",color:(0,h.oK)(t),percentage:s>0?a.amount/s*100:0}}).sort((e,s)=>s.amount-e.amount)},[N]),W=(0,r.useMemo)(()=>{let e=b.savings,s=b.totalLiabilities,t=N.length>0;if(!e&&!t)return[];let a=new Date;a.setHours(0,0,0,0);let r=Array.from({length:30},(e,s)=>{let t=new Date(a);return t.setDate(t.getDate()-(29-s)),t}),n=new Map;N.forEach(e=>{var s;let t=e.date.toISOString().slice(0,10),a=null!==(s=n.get(t))&&void 0!==s?s:0;n.set(t,a+e.amount)});let l=e-Array.from(n.values()).reduce((e,s)=>e+s,0);return r.map(t=>{var a;let r=t.toISOString().slice(0,10),i=null!==(a=n.get(r))&&void 0!==a?a:0,c=(l+=i)+s;return{date:t.toISOString(),assets:c,liabilities:s,netWorth:l,change:i,changePercentage:e?i/e*100:0}})},[b.savings,b.totalLiabilities,N]);return g?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ec.A,{className:"h-6 w-6 animate-spin"}),(0,a.jsx)("span",{children:"Loading dashboard data..."})]})})})}):j?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)(n.Zp,{className:"w-full max-w-md",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(ed.A,{className:"h-5 w-5 text-red-500"}),(0,a.jsx)(n.ZB,{children:"Error Loading Dashboard"})]}),(0,a.jsx)(n.BT,{children:j})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(l.$,{onClick:f,className:"w-full",children:"Try Again"})})]})})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Financial Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Welcome back! Here's your financial overview."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.$,{variant:"week"===t?"default":"outline",size:"sm",onClick:()=>o("week"),children:"Week"}),(0,a.jsx)(l.$,{variant:"month"===t?"default":"outline",size:"sm",onClick:()=>o("month"),children:"Month"}),(0,a.jsx)(l.$,{variant:"year"===t?"default":"outline",size:"sm",onClick:()=>o("year"),children:"Year"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(n.Zp,{className:"border-green-200",children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Balance"}),(0,a.jsx)(ea.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,h.vv)(b.totalBalance)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)(K.A,{className:"inline h-3 w-3 mr-1"}),(null==u?void 0:null===(e=u.accountStats)||void 0===e?void 0:e.activeAccounts)||0," active accounts"]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Monthly Income"}),(0,a.jsx)(eo.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,h.vv)(b.monthlyIncome)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)(K.A,{className:"inline h-3 w-3 mr-1"}),"From recent transactions"]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Monthly Expenses"}),(0,a.jsx)(ex.A,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,h.vv)(b.monthlyExpenses)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)(er.A,{className:"inline h-3 w-3 mr-1"}),"From recent transactions"]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Net Worth"}),(0,a.jsx)(em.A,{className:"h-4 w-4 text-blue-500"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,h.vv)(b.savings)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,a.jsx)(K.A,{className:"inline h-3 w-3 mr-1"}),"Assets minus liabilities"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ZB,{children:"Recent Transactions"}),(0,a.jsx)(n.BT,{children:"Your latest financial activities"})]}),(0,a.jsxs)(l.$,{size:"sm",variant:"outline",children:[(0,a.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]}),(0,a.jsx)(n.Wu,{className:"space-y-4",children:0===w.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)("p",{children:"No recent transactions found"}),(0,a.jsxs)(l.$,{size:"sm",variant:"outline",className:"mt-2 bg-transparent",children:[(0,a.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Add your first transaction"]})]}):w.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full ".concat("income"===e.type?"bg-green-100 text-green-600":"expense"===e.type?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"),children:"income"===e.type?(0,a.jsx)(eo.A,{className:"h-4 w-4"}):"expense"===e.type?(0,a.jsx)(ex.A,{className:"h-4 w-4"}):(0,a.jsx)(U.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.formattedDate})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-semibold ".concat(e.amount>0?"text-green-600":"text-red-600"),children:(0,h.vv)(Math.abs(e.amount))}),(0,a.jsx)(i.E,{variant:"secondary",className:"text-xs",children:e.category})]})]},e.id))})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ZB,{children:"Budget Overview"}),(0,a.jsx)(n.BT,{children:"Track your spending against budgets"})]}),(0,a.jsxs)(l.$,{size:"sm",variant:"outline",children:[(0,a.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"Manage Budgets"]})]}),(0,a.jsx)(n.Wu,{className:"space-y-6",children:0===A.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)("p",{children:"No budgets set up yet"}),(0,a.jsxs)(l.$,{size:"sm",variant:"outline",className:"mt-2 bg-transparent",children:[(0,a.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"Create your first budget"]})]}):A.map(e=>{let s=e.percentage;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.category}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[(0,h.vv)(e.spent)," / ",(0,h.vv)(e.budgeted)]})]}),(0,a.jsx)(c.Progress,{value:s,className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(i.E,{variant:s>80?"destructive":s>60?"default":"secondary",children:[s.toFixed(1),"% used"]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(0,h.vv)(Math.max(0,e.remaining))," remaining"]})]})]},e.id)})})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Financial Analytics"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Detailed insights into your financial patterns"})]}),(0,a.jsxs)(l.$,{variant:"outline",onClick:()=>f(),children:[(0,a.jsx)(eh.A,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]}),(0,a.jsxs)(d.tU,{defaultValue:"overview",className:"space-y-6",children:[(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(d.Xi,{value:"overview",children:"Overview"}),(0,a.jsx)(d.Xi,{value:"spending",children:"Spending"}),(0,a.jsx)(d.Xi,{value:"budgets",children:"Budgets"}),(0,a.jsx)(d.Xi,{value:"trends",children:"Trends"})]}),(0,a.jsx)(d.av,{value:"overview",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(P,{data:C,period:x,onPeriodChange:v,loading:g}),(0,a.jsx)(ei,{data:W,period:x,onPeriodChange:v,loading:g,showBreakdown:!0})]})}),(0,a.jsxs)(d.av,{value:"spending",className:"space-y-6",children:[(0,a.jsx)(P,{data:C,period:x,onPeriodChange:v,loading:g,className:"col-span-full"}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(E.A,{className:"h-5 w-5"}),"Top Spending Categories"]}),(0,a.jsx)(n.BT,{children:"Your highest expense categories this period"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:C.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:s+1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.category}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.transactions," transactions"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-semibold",children:(0,h.vv)(e.amount)}),(0,a.jsxs)(i.E,{variant:"secondary",className:"text-xs",children:[e.percentage.toFixed(1),"%"]})]})]},e.category))})})]})]}),(0,a.jsx)(d.av,{value:"budgets",className:"space-y-6",children:(0,a.jsx)(q,{data:k,period:t,loading:g,onCategoryClick:e=>{(0,ej.oR)({title:"Category Selected",description:"Viewing details for ".concat(e)})}})}),(0,a.jsx)(d.av,{value:"trends",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsx)(ei,{data:W,period:x,onPeriodChange:v,loading:g,showBreakdown:!0,className:"col-span-full"}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"h-5 w-5"}),"Financial Health Score"]}),(0,a.jsx)(n.BT,{children:"Overall assessment of your financial wellness"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"85"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"Health Score"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Excellent"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:k.filter(e=>"on-track"===e.status).length}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"Budgets On Track"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",k.length," total"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[y.toFixed(0),"%"]}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"Savings Rate"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]})})]})]})})]})]})]})})}},92921:(e,s,t)=>{Promise.resolve().then(t.bind(t,82939))},95561:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>i});var a=t(73365),r=t(1521),n=t(47636),l=t(14130);let i=n.bL,c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.B8,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});c.displayName=n.B8.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.l9,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});d.displayName=n.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.UC,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=n.UC.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[466,23,814,764,269,907,777,476,347,870,358],()=>s(92921)),_N_E=e.O()}]);