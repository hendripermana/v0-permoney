(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{18035:(e,s,t)=>{"use strict";t.d(s,{T:()=>l});var a=t(73365),n=t(1521),r=t(14130);let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n})});l.displayName="Textarea"},41568:(e,s,t)=>{"use strict";t.d(s,{EA:()=>r,NH:()=>l,cU:()=>i,ud:()=>c});var a=t(73365);t(1521);var n=t(14130);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",s),...t})}function l(e){let{className:s,size:t="md",showText:l=!0,...i}=e;return(0,a.jsxs)("div",{className:(0,n.cn)("flex items-center space-x-4",s),...i,children:[(0,a.jsx)(r,{className:(0,n.cn)("rounded-full",{sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[t])}),l&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r,{className:"h-4 w-32"}),(0,a.jsx)(r,{className:"h-3 w-24"})]})]})}function i(e){let{className:s,rows:t=5,columns:l=4,...i}=e;return(0,a.jsx)("div",{className:(0,n.cn)("w-full",s),...i,children:(0,a.jsxs)("div",{className:"rounded-md border",children:[(0,a.jsx)("div",{className:"border-b bg-muted/50 p-4",children:(0,a.jsx)("div",{className:"flex space-x-4",children:Array.from({length:l}).map((e,s)=>(0,a.jsx)(r,{className:"h-4 flex-1"},s))})}),(0,a.jsx)("div",{className:"divide-y",children:Array.from({length:t}).map((e,s)=>(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"flex space-x-4",children:Array.from({length:l}).map((e,s)=>(0,a.jsx)(r,{className:"h-4 flex-1"},s))})},s))})]})})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t,children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r,{className:"h-6 w-32"}),(0,a.jsx)(r,{className:"h-4 w-20"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-end space-x-2 h-32",children:Array.from({length:7}).map((e,s)=>(0,a.jsx)(r,{className:(0,n.cn)("flex-1 rounded-t","h-".concat(Math.floor(20*Math.random())+8)),style:{height:"".concat(Math.floor(80*Math.random())+20,"%")}},s))}),(0,a.jsx)("div",{className:"flex justify-between text-sm",children:Array.from({length:7}).map((e,s)=>(0,a.jsx)(r,{className:"h-3 w-8"},s))})]})]})})})}},43155:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var a=t(73365),n=t(1521),r=t(14130);let l=n.forwardRef((e,s)=>{let{className:t,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});l.displayName="Input"},47629:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>x,Es:()=>h,L3:()=>p,c7:()=>u,lG:()=>c,rr:()=>j,zM:()=>d});var a=t(73365),n=t(1521),r=t(89752),l=t(72196),i=t(14130);let c=r.bL,d=r.l9,o=r.ZL;r.bm;let m=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.hJ,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n})});m.displayName=r.hJ.displayName;let x=n.forwardRef((e,s)=>{let{className:t,children:n,...c}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...c,children:[n,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.UC.displayName;let u=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};u.displayName="DialogHeader";let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};h.displayName="DialogFooter";let p=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...n})});p.displayName=r.hE.displayName;let j=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...n})});j.displayName=r.VY.displayName},57383:(e,s,t)=>{"use strict";t.d(s,{C5:()=>g,MJ:()=>j,Rr:()=>f,eI:()=>h,lR:()=>p,lV:()=>d,zB:()=>m});var a=t(73365),n=t(1521),r=t(20544),l=t(93149),i=t(14130),c=t(73049);let d=l.Op,o=n.createContext({}),m=e=>{let{...s}=e;return(0,a.jsx)(o.Provider,{value:{name:s.name},children:(0,a.jsx)(l.xI,{...s})})},x=()=>{let e=n.useContext(o),s=n.useContext(u),{getFieldState:t,formState:a}=(0,l.xW)(),r=t(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=s;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...r}},u=n.createContext({}),h=n.forwardRef((e,s)=>{let{className:t,...r}=e,l=n.useId();return(0,a.jsx)(u.Provider,{value:{id:l},children:(0,a.jsx)("div",{ref:s,className:(0,i.cn)("space-y-2",t),...r})})});h.displayName="FormItem";let p=n.forwardRef((e,s)=>{let{className:t,...n}=e,{error:r,formItemId:l}=x();return(0,a.jsx)(c.J,{ref:s,className:(0,i.cn)(r&&"text-destructive",t),htmlFor:l,...n})});p.displayName="FormLabel";let j=n.forwardRef((e,s)=>{let{...t}=e,{error:n,formItemId:l,formDescriptionId:i,formMessageId:c}=x();return(0,a.jsx)(r.DX,{ref:s,id:l,"aria-describedby":n?"".concat(i," ").concat(c):"".concat(i),"aria-invalid":!!n,...t})});j.displayName="FormControl";let f=n.forwardRef((e,s)=>{let{className:t,...n}=e,{formDescriptionId:r}=x();return(0,a.jsx)("p",{ref:s,id:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...n})});f.displayName="FormDescription";let g=n.forwardRef((e,s)=>{let{className:t,children:n,...r}=e,{error:l,formMessageId:c}=x(),d=l?String(null==l?void 0:l.message):n;return d?(0,a.jsx)("p",{ref:s,id:c,className:(0,i.cn)("text-sm font-medium text-destructive",t),...r,children:d}):null});g.displayName="FormMessage"},73049:(e,s,t)=>{"use strict";t.d(s,{J:()=>d});var a=t(73365),n=t(1521),r=t(25092),l=t(82934),i=t(14130);let c=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(r.b,{ref:s,className:(0,i.cn)(c(),t),...n})});d.displayName=r.b.displayName},76249:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var a=t(73365),n=t(1521),r=t(18159),l=t(58005),i=t(33414),c=t(43155),d=t(35049),o=t(63678),m=t(49703),x=t(71872),u=t(23060),h=t(16282),p=t(87903),j=t(82717),f=t(16296),g=t(12990),N=t(86123),v=t(47629),y=t(93149),b=t(36209),w=t(58491),C=t(18035),A=t(57383),I=t(41568),S=t(35788),R=t(97286),F=t(48760),T=t(81459),E=t(688),k=t(41078);let D=k.bL;k.R6;let B=k.Ke,M=w.Ik({description:w.Yj().min(1,"Description is required").max(255,"Description too long"),amount:w.Yj().refine(e=>{let s=parseFloat(e);return!isNaN(s)&&s>0},"Amount must be a positive number"),type:w.k5(["income","expense"],{required_error:"Transaction type is required"}),categoryId:w.Yj().min(1,"Category is required"),accountId:w.Yj().min(1,"Account is required"),date:w.Yj().min(1,"Date is required"),notes:w.Yj().optional()});function z(e){let{transaction:s,onSuccess:t,onCancel:m}=e,[x,h]=(0,n.useState)(!1),[p,j]=(0,n.useState)([]),[f,v]=(0,n.useState)(!0),[w,E]=(0,n.useState)(!1),[k]=(0,n.useState)([{id:"food",name:"Food & Dining",icon:"\uD83C\uDF7D️"},{id:"transport",name:"Transportation",icon:"\uD83D\uDE97"},{id:"utilities",name:"Utilities",icon:"⚡"},{id:"entertainment",name:"Entertainment",icon:"\uD83C\uDFAC"},{id:"healthcare",name:"Healthcare",icon:"\uD83C\uDFE5"},{id:"shopping",name:"Shopping",icon:"\uD83D\uDECD️"},{id:"education",name:"Education",icon:"\uD83D\uDCDA"},{id:"salary",name:"Salary",icon:"\uD83D\uDCBC"},{id:"freelance",name:"Freelance",icon:"\uD83D\uDCBB"},{id:"investment",name:"Investment",icon:"\uD83D\uDCC8"}]),z=(0,y.mN)({resolver:(0,b.u)(M),defaultValues:{description:(null==s?void 0:s.description)||"",amount:s?Math.abs(s.amountCents/100).toString():"",type:(null==s?void 0:s.amountCents)>0?"income":"expense",categoryId:(null==s?void 0:s.categoryId)||"",accountId:(null==s?void 0:s.accountId)||"",date:(null==s?void 0:s.date)?new Date(s.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],notes:(null==s?void 0:s.notes)||""}});(0,n.useEffect)(()=>{U()},[]);let U=async()=>{try{v(!0);let e=await N.uE.getAccounts({isActive:!0});j(e)}catch(e){console.error("Failed to fetch accounts:",e),(0,T.oR)({title:"Warning",description:"Failed to load accounts. Please seed your database or check API.",variant:"destructive"}),j([])}finally{v(!1)}},O=async e=>{h(!0);try{let a=Number.parseFloat(e.amount),n={description:e.description,amountCents:Math.round(100*a)*("expense"===e.type?-1:1),categoryId:e.categoryId,accountId:e.accountId,date:new Date(e.date).toISOString(),notes:e.notes||void 0};s?(await N.uE.updateTransaction(s.id,n),(0,T.oR)({title:"Success",description:"Transaction updated successfully"})):(await N.uE.createTransaction(n),(0,T.oR)({title:"Success",description:"Transaction created successfully"})),null==t||t()}catch(e){(0,T.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to save transaction",variant:"destructive"})}finally{h(!1)}},Z=e=>{let s=parseFloat(e);return isNaN(s)?"":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s)},J=z.watch("type"),q=z.watch("amount");return(0,a.jsxs)(r.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:["income"===J?(0,a.jsx)(u.A,{className:"h-5 w-5 text-green-600"}):(0,a.jsx)(S.A,{className:"h-5 w-5 text-red-600"}),s?"Edit Transaction":"Add New Transaction"]}),(0,a.jsxs)(r.BT,{children:[s?"Update transaction details":"Enter the details for your new transaction",q&&(0,a.jsx)(i.E,{variant:"outline",className:"ml-2",children:Z(q)})]}),(0,a.jsx)("div",{className:"mt-2 flex justify-end",children:(0,a.jsxs)(l.$,{type:"button",variant:"secondary",size:"sm",onClick:()=>E(e=>!e),className:"inline-flex items-center gap-2",children:[(0,a.jsx)(R.A,{className:"h-4 w-4"})," ",w?"Hide OCR":"Scan Receipt (OCR)"]})})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)(D,{open:w,onOpenChange:E,children:(0,a.jsx)(B,{className:"mb-4",children:(0,a.jsx)(V,{onSuggestionSelected:e=>{try{z.setValue("description",e.description),z.setValue("amount",Math.abs(e.amount).toString()),z.setValue("type",e.amount>=0?"income":"expense"),z.setValue("date",e.date),e.suggestedCategoryId&&z.setValue("categoryId",e.suggestedCategoryId),(0,T.oR)({title:"Applied",description:"Suggestion applied to form."})}catch(e){}}})})}),(0,a.jsx)(A.lV,{...z,children:(0,a.jsxs)("form",{onSubmit:z.handleSubmit(O),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(A.zB,{control:z.control,name:"type",render:e=>{let{field:s}=e;return(0,a.jsxs)(A.eI,{children:[(0,a.jsx)(A.lR,{children:"Transaction Type"}),(0,a.jsxs)(d.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(A.MJ,{children:(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Select type"})})}),(0,a.jsxs)(d.gC,{children:[(0,a.jsx)(d.eb,{value:"income",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 text-green-600"}),"Income"]})}),(0,a.jsx)(d.eb,{value:"expense",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 text-red-600"}),"Expense"]})})]})]}),(0,a.jsx)(A.C5,{})]})}}),(0,a.jsx)(A.zB,{control:z.control,name:"amount",render:e=>{let{field:s}=e;return(0,a.jsxs)(A.eI,{children:[(0,a.jsxs)(A.lR,{className:"flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"h-4 w-4"}),"Amount (IDR)"]}),(0,a.jsx)(A.MJ,{children:(0,a.jsx)(c.p,{type:"number",step:"0.01",min:"0",placeholder:"0.00",disabled:x,...s})}),(0,a.jsx)(A.Rr,{children:s.value&&Z(s.value)}),(0,a.jsx)(A.C5,{})]})}})]}),(0,a.jsx)(A.zB,{control:z.control,name:"description",render:e=>{let{field:s}=e;return(0,a.jsxs)(A.eI,{children:[(0,a.jsx)(A.lR,{children:"Description"}),(0,a.jsx)(A.MJ,{children:(0,a.jsx)(c.p,{placeholder:"Enter transaction description",disabled:x,...s})}),(0,a.jsx)(A.C5,{})]})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(A.zB,{control:z.control,name:"categoryId",render:e=>{let{field:s}=e;return(0,a.jsxs)(A.eI,{children:[(0,a.jsx)(A.lR,{children:"Category"}),(0,a.jsxs)(d.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(A.MJ,{children:(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Select category"})})}),(0,a.jsx)(d.gC,{children:k.map(e=>(0,a.jsx)(d.eb,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:e.icon}),e.name]})},e.id))})]}),(0,a.jsx)(A.C5,{})]})}}),(0,a.jsx)(A.zB,{control:z.control,name:"accountId",render:e=>{let{field:s}=e;return(0,a.jsxs)(A.eI,{children:[(0,a.jsx)(A.lR,{children:"Account"}),(0,a.jsxs)(d.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,a.jsx)(A.MJ,{children:(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Select account"})})}),(0,a.jsx)(d.gC,{children:f?(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)(I.EA,{className:"h-4 w-full"})}):p.map(e=>(0,a.jsx)(d.eb,{value:e.id,children:e.name},e.id))})]}),(0,a.jsx)(A.C5,{})]})}})]}),(0,a.jsx)(A.zB,{control:z.control,name:"date",render:e=>{let{field:s}=e;return(0,a.jsxs)(A.eI,{children:[(0,a.jsxs)(A.lR,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),"Date"]}),(0,a.jsx)(A.MJ,{children:(0,a.jsx)(c.p,{type:"date",disabled:x,...s})}),(0,a.jsx)(A.C5,{})]})}}),(0,a.jsx)(A.zB,{control:z.control,name:"notes",render:e=>{let{field:s}=e;return(0,a.jsxs)(A.eI,{children:[(0,a.jsx)(A.lR,{children:"Notes (Optional)"}),(0,a.jsx)(A.MJ,{children:(0,a.jsx)(C.T,{placeholder:"Add any additional notes...",disabled:x,rows:3,...s})}),(0,a.jsx)(A.C5,{})]})}}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(l.$,{type:"submit",className:"flex-1 ".concat("income"===J?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"),disabled:x,children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),s?"Updating...":"Adding..."]}):(0,a.jsxs)(a.Fragment,{children:["income"===J?(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}):(0,a.jsx)(S.A,{className:"mr-2 h-4 w-4"}),s?"Update Transaction":"Add Transaction"]})}),m&&(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:m,disabled:x,children:"Cancel"})]})]})})]})]})}let V=(0,E.default)(()=>t.e(799).then(t.bind(t,55799)),{loadableGenerated:{webpack:()=>[55799]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"h-20 animate-pulse rounded-md bg-muted"})})});function U(e){let{open:s,onOpenChange:t,transaction:n,onSuccess:r}=e;return(0,a.jsx)(v.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(v.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(v.c7,{children:(0,a.jsx)(v.L3,{children:n?"Edit Transaction":"Add New Transaction"})}),(0,a.jsx)(z,{transaction:n,onSuccess:()=>{null==r||r(),t(!1)},onCancel:()=>{t(!1)}})]})})}var O=t(14130);function Z(){let[e,s]=(0,n.useState)(""),[t,v]=(0,n.useState)("all"),[y,b]=(0,n.useState)("all"),[w,C]=(0,n.useState)([]),[A,I]=(0,n.useState)(!0),[S,R]=(0,n.useState)(null),[F,T]=(0,n.useState)(!1),E=e=>{var s,t,a,n,r,l;let i="number"==typeof e.amountCents?(0,O.sp)(e.amountCents):null,c=null!=i?i:"number"==typeof e.amount?e.amount:0,d="number"==typeof e.amountCents?e.amountCents:Math.round(100*c),o=null!==(n=null!==(a=e.date)&&void 0!==a?a:e.createdAt)&&void 0!==n?n:new Date().toISOString(),m=new Date(o);return{id:String(null!==(l=e.id)&&void 0!==l?l:"".concat(o,"-").concat(null!==(r=e.description)&&void 0!==r?r:"tx")),description:e.description||"Unknown Transaction",amount:c,amountCents:d,type:c>0?"income":c<0?"expense":"transfer",date:m,formattedDate:(0,O.sL)(m),category:(null===(s=e.category)||void 0===s?void 0:s.name)||e.category||"Uncategorized",account:(null===(t=e.account)||void 0===t?void 0:t.name)||e.account||"Unknown Account",currency:e.currency||"IDR"}};(0,n.useEffect)(()=>{k()},[]);let k=async()=>{try{I(!0),R(null);let e=(await N.uE.getTransactions({limit:50,orderBy:"date",orderDirection:"desc"})).map(E);C(e)}catch(e){console.error("Failed to fetch transactions:",e),R(e instanceof Error?e.message:"Failed to fetch transactions"),C(D().map(E))}finally{I(!1)}},D=()=>[{id:1,description:"Salary - PT Tech Indonesia",amount:125e5,type:"income",date:"2024-01-15",category:"Salary",account:"BCA Checking"},{id:2,description:"Groceries - Superindo",amount:-45e4,type:"expense",date:"2024-01-14",category:"Food",account:"BCA Checking"},{id:3,description:"Electricity Bill - PLN",amount:-275e3,type:"expense",date:"2024-01-13",category:"Utilities",account:"BCA Checking"},{id:4,description:"Investment - Mutual Fund",amount:-1e6,type:"investment",date:"2024-01-12",category:"Investment",account:"Mandiri Savings"},{id:5,description:"Freelance Project Payment",amount:25e5,type:"income",date:"2024-01-11",category:"Freelance",account:"BCA Checking"}],B=w.filter(s=>{let a=s.description.toLowerCase().includes(e.toLowerCase()),n="all"===t||s.category===t,r="all"===y||s.type===y;return a&&n&&r}),M=w.filter(e=>"income"===e.type).reduce((e,s)=>e+s.amount,0),z=w.filter(e=>"expense"===e.type).reduce((e,s)=>e+Math.abs(s.amount),0),V=M-z;return A?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"h-6 w-6 animate-spin"}),(0,a.jsx)("span",{children:"Loading transactions..."})]})})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Transactions"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Track and manage all your financial transactions"}),S&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm mt-1",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Using offline data - ",S]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,a.jsxs)(l.$,{size:"sm",className:"bg-green-500 hover:bg-green-600",onClick:()=>T(!0),children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(r.Zp,{className:"border-green-200",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Income"}),(0,a.jsx)(h.A,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,O.vv)(M)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["From ",w.filter(e=>"income"===e.type).length," transactions"]})]})]}),(0,a.jsxs)(r.Zp,{className:"border-red-200",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Expenses"}),(0,a.jsx)(p.A,{className:"h-4 w-4 text-red-500"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(0,O.vv)(z)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["From ",w.filter(e=>"expense"===e.type).length," transactions"]})]})]}),(0,a.jsxs)(r.Zp,{className:V>=0?"border-green-200":"border-red-200",children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Net Flow"}),(0,a.jsx)(j.A,{className:"h-4 w-4 ".concat(V>=0?"text-green-500":"text-red-500")})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(V>=0?"text-green-600":"text-red-600"),children:(0,O.vv)(V)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Net cash flow"})]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsx)(r.ZB,{className:"text-lg",children:"Filter Transactions"})}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.p,{placeholder:"Search transactions...",value:e,onChange:e=>s(e.target.value),className:"pl-10"})]})}),(0,a.jsxs)(d.l6,{value:t,onValueChange:v,children:[(0,a.jsx)(d.bq,{className:"w-full sm:w-48",children:(0,a.jsx)(d.yv,{placeholder:"Category"})}),(0,a.jsx)(d.gC,{children:["all","Food","Transportation","Utilities","Investment","Salary","Freelance","Education"].map(e=>(0,a.jsx)(d.eb,{value:e,children:"all"===e?"All Categories":e},e))})]}),(0,a.jsxs)(d.l6,{value:y,onValueChange:b,children:[(0,a.jsx)(d.bq,{className:"w-full sm:w-48",children:(0,a.jsx)(d.yv,{placeholder:"Type"})}),(0,a.jsx)(d.gC,{children:["all","income","expense","investment"].map(e=>(0,a.jsx)(d.eb,{value:e,children:"all"===e?"All Types":e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ZB,{children:"Transaction History"}),(0,a.jsxs)(r.BT,{children:["Showing ",B.length," of ",w.length," transactions"]})]}),(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:k,disabled:A,children:A?(0,a.jsx)(o.A,{className:"h-4 w-4 animate-spin"}):"Refresh"})]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:0===B.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)("p",{children:"No transactions found matching your filters"}),(0,a.jsx)(l.$,{size:"sm",variant:"outline",className:"mt-2 bg-transparent",onClick:()=>{s(""),v("all"),b("all")},children:"Clear Filters"})]}):B.map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-muted/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-2 rounded-full ".concat("income"===e.type?"bg-green-100 text-green-600":"expense"===e.type?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"),children:"income"===e.type?(0,a.jsx)(h.A,{className:"h-4 w-4"}):"expense"===e.type?(0,a.jsx)(p.A,{className:"h-4 w-4"}):(0,a.jsx)(j.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(g.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.formattedDate}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.account})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-semibold text-lg ".concat(e.amount>0?"text-green-600":"text-red-600"),children:[e.amount>0?"+":"",(0,O.vv)(e.amount,null!==(s=e.currency)&&void 0!==s?s:"IDR")]}),(0,a.jsx)(i.E,{variant:"secondary",className:"text-xs",children:e.category})]})]},e.id)})})})]})]}),(0,a.jsx)(U,{open:F,onOpenChange:T,onSuccess:()=>{k(),T(!1)}})]})}},96596:(e,s,t)=>{Promise.resolve().then(t.bind(t,76249))}},e=>{var s=s=>e(e.s=s);e.O(0,[466,23,814,764,825,235,777,476,347,870,358],()=>s(96596)),_N_E=e.O()}]);