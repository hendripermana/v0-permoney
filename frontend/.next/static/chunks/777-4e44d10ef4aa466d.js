"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{14130:(t,e,r)=>{r.d(e,{Ju:()=>c,cn:()=>o,mo:()=>y,oK:()=>l,sL:()=>d,sp:()=>i,vv:()=>u});var s=r(74584),n=r(22292);let a="id-ID";function o(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,n.QP)((0,s.$)(e))}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"!=typeof t||Number.isNaN(t)?e:t}function i(t){return c(t,0)/100}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IDR",r=arguments.length>2?arguments[2]:void 0;return new Intl.NumberFormat(a,{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0,...r}).format(t)}function d(t){let e="string"==typeof t?new Date(t):t;return new Intl.DateTimeFormat(a,{year:"numeric",month:"short",day:"2-digit"}).format(e)}let h=["#16a34a","#0ea5e9","#f97316","#a855f7","#ef4444","#14b8a6","#facc15","#2563eb","#d946ef"];function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;return t?e[t.split("").reduce((t,e)=>(31*t+e.charCodeAt(0))%0xffffffff,7)%e.length]:e[0]}function y(t){let e="string"==typeof t?new Date(t):t,r=Math.floor((new Date().getTime()-e.getTime())/864e5);return 0===r?"Hari ini":1===r?"Kemarin":r<7?"".concat(r," hari yang lalu"):r<30?"".concat(Math.floor(r/7)," minggu yang lalu"):r<365?"".concat(Math.floor(r/30)," bulan yang lalu"):"".concat(Math.floor(r/365)," tahun yang lalu")}},18159:(t,e,r)=>{r.d(e,{BT:()=>u,Wu:()=>d,ZB:()=>i,Zp:()=>o,aR:()=>c});var s=r(73365),n=r(1521),a=r(14130);let o=n.forwardRef((t,e)=>{let{className:r,...n}=t;return(0,s.jsx)("div",{ref:e,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});o.displayName="Card";let c=n.forwardRef((t,e)=>{let{className:r,...n}=t;return(0,s.jsx)("div",{ref:e,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});c.displayName="CardHeader";let i=n.forwardRef((t,e)=>{let{className:r,...n}=t;return(0,s.jsx)("div",{ref:e,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});i.displayName="CardTitle";let u=n.forwardRef((t,e)=>{let{className:r,...n}=t;return(0,s.jsx)("div",{ref:e,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});u.displayName="CardDescription";let d=n.forwardRef((t,e)=>{let{className:r,...n}=t;return(0,s.jsx)("div",{ref:e,className:(0,a.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent",n.forwardRef((t,e)=>{let{className:r,...n}=t;return(0,s.jsx)("div",{ref:e,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},58005:(t,e,r)=>{r.d(e,{$:()=>u,r:()=>i});var s=r(73365),n=r(1521),a=r(20544),o=r(82934),c=r(14130);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",permoney:"bg-green-500 text-white hover:bg-green-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((t,e)=>{let{className:r,variant:n,size:o,asChild:u=!1,...d}=t,h=u?a.DX:"button";return(0,s.jsx)(h,{className:(0,c.cn)(i({variant:n,size:o,className:r})),ref:e,...d})});u.displayName="Button"},86123:(t,e,r)=>{r.d(e,{uE:()=>h,Ay:()=>l});var s,n=r(94089);let a=null!==(s=["http://localhost:3001",n.env.NEXT_PUBLIC_CF_WORKER_URL,n.env.NEXT_PUBLIC_ORACLE_API_URL,n.env.API_URL].filter(t=>!!(t&&t.trim())).map(t=>t.replace(/\/$/,""))[0])&&void 0!==s?s:"/api",o={authToken:"auth_token"};class c extends Error{constructor(t,e={}){super(t),this.name="ApiClientError",this.code=e.code,this.status=e.status,this.details=e.details}}let i=t=>t?t.endsWith("/")?t.slice(0,-1):t:"/api",u=t=>{if(!t)return"";let e=new URLSearchParams;Object.entries(t).forEach(t=>{let[r,s]=t;if(null!=s){if(Array.isArray(s)){s.forEach(t=>{null!=t&&e.append(r,String(t))});return}if(s instanceof Date){e.append(r,s.toISOString());return}e.append(r,String(s))}});let r=e.toString();return r?"?".concat(r):""};class d{setBaseURL(t){this.baseURL=i(t)}getBaseURL(){return this.baseURL}async request(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.buildUrl(t),s="undefined"!=typeof FormData&&e.body instanceof FormData,n={...this.token?{Authorization:"Bearer ".concat(this.token)}:{}},a={...e,headers:{...n,...s?{}:{"Content-Type":"application/json"},...e.headers}};return this.requestWithRetry(r,a)}buildUrl(t){return/^https?:/i.test(t)?t:"".concat(this.baseURL).concat(t.startsWith("/")?t:"/".concat(t))}async requestWithRetry(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{var s;if(!navigator.onLine)throw this.createApiError("No internet connection","NETWORK_ERROR",0);let r=new AbortController,n=setTimeout(()=>r.abort(),this.requestTimeout),a=await fetch(t,{...e,signal:r.signal});if(clearTimeout(n),!a.ok){let t=await a.json().catch(()=>({}));throw this.createApiError(t.message||"HTTP ".concat(a.status,": ").concat(a.statusText),t.code||this.getErrorCodeFromStatus(a.status),a.status,t)}if(204===a.status||!(null!==(s=a.headers.get("content-type"))&&void 0!==s?s:"").toLowerCase().includes("json"))return;return await a.json()}catch(s){if("AbortError"===s.name)throw this.createApiError("Request timeout","TIMEOUT_ERROR",408);if(s instanceof TypeError&&s.message.includes("fetch"))throw this.createApiError("Network error - please check your connection","NETWORK_ERROR",0);if(this.shouldRetry(s,r)){let s=this.calculateRetryDelay(r);return await this.sleep(s),this.requestWithRetry(t,e,r+1)}if(this.isApiError(s))throw s;throw this.createApiError(s.message||"An unexpected error occurred","UNKNOWN_ERROR",void 0,s)}}createApiError(t,e,r,s){return new c(t,{code:e,status:r,details:s})}isApiError(t){return t instanceof c}getErrorCodeFromStatus(t){switch(t){case 400:return"BAD_REQUEST";case 401:return"UNAUTHORIZED";case 403:return"FORBIDDEN";case 404:return"NOT_FOUND";case 409:return"CONFLICT";case 422:return"VALIDATION_ERROR";case 429:return"RATE_LIMIT";case 500:return"INTERNAL_ERROR";case 502:return"BAD_GATEWAY";case 503:return"SERVICE_UNAVAILABLE";case 504:return"GATEWAY_TIMEOUT";default:return"HTTP_ERROR"}}shouldRetry(t,e){return!(e>=this.retryAttempts)&&("NETWORK_ERROR"===t.code||"TIMEOUT_ERROR"===t.code||!!t.status&&!!(t.status>=500)||429===t.status)}calculateRetryDelay(t){let e=this.retryDelay*Math.pow(2,t-1),r=.1*Math.random()*e;return Math.min(e+r,1e4)}sleep(t){return new Promise(e=>setTimeout(e,t))}setToken(t){this.token=t,localStorage.setItem(o.authToken,t)}clearToken(){this.token=null,localStorage.removeItem(o.authToken)}async getAccounts(t){return this.request("/accounts".concat(u("string"==typeof t?{householdId:t}:t)))}async getAccountById(t){return this.request("/accounts/".concat(t))}async createAccount(t){return this.request("/accounts",{method:"POST",body:JSON.stringify(t)})}async updateAccount(t,e){return this.request("/accounts/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteAccount(t){return this.request("/accounts/".concat(t),{method:"DELETE"})}async getNetWorth(t,e){let r;let s="IDR";t&&3===t.length?s=t:t&&(r=t,e&&(s=e));let n={currency:s};return r&&(n.householdId=r),this.request("/accounts/net-worth".concat(u(n)))}async getAccountStats(t){return this.request("/accounts/stats".concat(u(t?{householdId:t}:void 0)))}async getAccountsGrouped(t){return this.request("/accounts/grouped".concat(u({householdId:t})))}async getAIInsights(t){return this.request("/ai-insights/".concat(t,"/insights"),{method:"GET"})}async generateAIMonthlyReport(t,e,r,s){return this.request("/ai-insights/".concat(t,"/monthly-report/").concat(e,"/").concat(r),{method:"POST",body:JSON.stringify(null!=s?s:{})})}async dismissAIInsight(t){return this.request("/ai-insights/insights/".concat(t),{method:"DELETE"})}async calculateZakat(t){return this.request("/islamic-finance/zakat/calculate",{method:"POST",body:JSON.stringify(t)})}async getAccountCompliance(t){return this.request("/islamic-finance/compliance/accounts/".concat(t),{method:"GET"})}async updateAccountCompliance(t){return this.request("/islamic-finance/compliance/accounts",{method:"PUT",body:JSON.stringify(t)})}async autoAssessAccountCompliance(t){return this.request("/islamic-finance/compliance/accounts/".concat(t,"/auto-assess"),{method:"POST"})}async getIslamicFinanceDashboard(t){return this.request("/islamic-finance/dashboard/".concat(t),{method:"GET"})}async uploadDocument(t,e){let r=new FormData;return r.append("file",t),r.append("householdId",e.householdId),r.append("documentType",e.documentType),e.description&&r.append("description",e.description),this.request("/ocr/upload",{method:"POST",body:r})}async processDocument(t){return this.request("/ocr/process",{method:"POST",body:JSON.stringify({documentId:t})})}async getTransactionSuggestions(t){return this.request("/ocr/documents/".concat(t,"/suggestions"),{method:"GET"})}async approveTransactionSuggestion(t){return this.request("/ocr/suggestions/approve",{method:"POST",body:JSON.stringify({suggestionId:t})})}async getDocumentsByHousehold(t){return this.request("/ocr/documents/".concat(t),{method:"GET"})}async getDocumentById(t){return this.request("/ocr/documents/".concat(t),{method:"GET"})}async getTransactions(t,e){let r="string"==typeof t?{householdId:t,...null!=e?e:{}}:t;return this.request("/transactions".concat(u(r)))}async getTransactionById(t){return this.request("/transactions/".concat(t))}async createTransaction(t){return this.request("/transactions",{method:"POST",body:JSON.stringify(t)})}async updateTransaction(t,e){return this.request("/transactions/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteTransaction(t){return this.request("/transactions/".concat(t),{method:"DELETE"})}async getTransactionStats(t){return this.request("/transactions/stats".concat(u(t)))}async getCategoryBreakdown(t){return this.request("/transactions/category-breakdown".concat(u(t)))}async searchTransactions(t){return this.request("/transactions/search".concat(u(t)))}async getBudgets(t){return this.request("/budgets".concat(u(t)))}async getBudgetById(t){return this.request("/budgets/".concat(t))}async createBudget(t){return this.request("/budgets",{method:"POST",body:JSON.stringify(t)})}async updateBudget(t,e){return this.request("/budgets/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteBudget(t){return this.request("/budgets/".concat(t),{method:"DELETE"})}async getBudgetProgress(t){return this.request("/budgets/".concat(t,"/progress"))}async getBudgetAlerts(t){return this.request("/budgets/".concat(t,"/alerts"))}async getBudgetRecommendations(){return this.request("/budgets/recommendations")}async getBudgetAnalytics(){return this.request("/budgets/analytics")}async getDashboardAnalytics(t,e){return this.request("/analytics/".concat(t,"/dashboard"),{method:"POST",body:JSON.stringify(e)})}async getDashboardData(t,e){let r=null!=e?e:{startDate:new Date(Date.now()-2592e6).toISOString(),endDate:new Date().toISOString(),currency:"IDR",includeTransfers:!1};return this.request("/analytics/".concat(t,"/dashboard"),{method:"POST",body:JSON.stringify(r)})}async getSpendingAnalytics(t,e){return this.request("/analytics/".concat(t,"/spending"),{method:"POST",body:JSON.stringify(e)})}async getCashflowAnalysis(t,e){return this.request("/analytics/".concat(t,"/cashflow"),{method:"POST",body:JSON.stringify(e)})}async getNetWorthAnalysis(t,e){return this.request("/analytics/".concat(t,"/net-worth"),{method:"POST",body:JSON.stringify(e)})}async getCategoryAnalytics(t,e){return this.request("/analytics/".concat(t,"/categories"),{method:"POST",body:JSON.stringify(e)})}async getTrendAnalysis(t,e){return this.request("/analytics/".concat(t,"/trends"),{method:"POST",body:JSON.stringify(e)})}async generateReport(t,e){return this.request("/analytics/".concat(t,"/reports/generate"),{method:"POST",body:JSON.stringify(e)})}async getPerformanceMetrics(t){return this.request("/analytics/".concat(t,"/performance"))}async healthCheck(){return this.request("/health")}async getHouseholds(){return this.request("/households")}async getHousehold(t){return this.request("/households/".concat(t))}async createHousehold(t){return this.request("/households",{method:"POST",body:JSON.stringify(t)})}async updateHousehold(t,e){return this.request("/households/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteHousehold(t){await this.request("/households/".concat(t),{method:"DELETE"})}async getMembers(t){return this.request("/households/".concat(t,"/members"))}async inviteMember(t,e){return this.request("/households/".concat(t,"/members"),{method:"POST",body:JSON.stringify(e)})}async updateMember(t,e,r){return this.request("/households/".concat(t,"/members/").concat(e),{method:"PUT",body:JSON.stringify(r)})}async removeMember(t,e){await this.request("/households/".concat(t,"/members/").concat(e),{method:"DELETE"})}async updateSettings(t,e){return this.request("/households/".concat(t,"/settings"),{method:"PUT",body:JSON.stringify(e)})}async getFilteredData(t,e){return this.request("/households/".concat(t,"/filtered-data").concat(u({viewType:e})))}async checkPermission(t,e){return this.request("/households/".concat(t,"/permissions/").concat(e))}async getUserRole(t){return this.request("/households/".concat(t,"/role"))}async getAvailablePermissions(){return this.request("/households/permissions")}async getHouseholdPermissions(t){return this.request("/households/".concat(t,"/permissions"))}async getCurrentHousehold(){var t;let e=await this.getHouseholds();return null!==(t=null==e?void 0:e[0])&&void 0!==t?t:null}constructor(t=a){this.token=null,this.retryAttempts=3,this.retryDelay=1e3,this.requestTimeout=3e4,this.baseURL=i(t),this.token=localStorage.getItem(o.authToken)}}let h=new d,l=h}}]);