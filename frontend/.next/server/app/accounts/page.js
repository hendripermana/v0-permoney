(()=>{var e={};e.id=339,e.ids=[339],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8081:(e,s,t)=>{Promise.resolve().then(t.bind(t,53307))},8837:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(33922).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19950:(e,s,t)=>{"use strict";t.d(s,{Switch:()=>A});var a=t(28625),n=t(64996),r=t(17979),l=t(72497),c=t(68415),i=t(6309),o=t(37163),d=t(26351),u=t(5413),m="Switch",[x,h]=(0,c.A)(m),[p,f]=x(m),v=n.forwardRef((e,s)=>{let{__scopeSwitch:t,name:c,checked:o,defaultChecked:d,required:x,disabled:h,value:f="on",onCheckedChange:v,form:j,...b}=e,[N,A]=n.useState(null),w=(0,l.s)(s,e=>A(e)),C=n.useRef(!1),R=!N||j||!!N.closest("form"),[k,I]=(0,i.i)({prop:o,defaultProp:d??!1,onChange:v,caller:m});return(0,a.jsxs)(p,{scope:t,checked:k,disabled:h,children:[(0,a.jsx)(u.sG.button,{type:"button",role:"switch","aria-checked":k,"aria-required":x,"data-state":g(k),"data-disabled":h?"":void 0,disabled:h,value:f,...b,ref:w,onClick:(0,r.mK)(e.onClick,e=>{I(e=>!e),R&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),R&&(0,a.jsx)(y,{control:N,bubbles:!C.current,name:c,value:f,checked:k,required:x,disabled:h,form:j,style:{transform:"translateX(-100%)"}})]})});v.displayName=m;var j="SwitchThumb",b=n.forwardRef((e,s)=>{let{__scopeSwitch:t,...n}=e,r=f(j,t);return(0,a.jsx)(u.sG.span,{"data-state":g(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:s})});b.displayName=j;var y=n.forwardRef(({__scopeSwitch:e,control:s,checked:t,bubbles:r=!0,...c},i)=>{let u=n.useRef(null),m=(0,l.s)(u,i),x=(0,o.Z)(t),h=(0,d.X)(s);return n.useEffect(()=>{let e=u.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(x!==t&&s){let a=new Event("click",{bubbles:r});s.call(e,t),e.dispatchEvent(a)}},[x,t,r]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...c,tabIndex:-1,ref:m,style:{...c.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function g(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var N=t(37284);let A=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(v,{className:(0,N.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:(0,a.jsx)(b,{className:(0,N.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));A.displayName=v.displayName},22779:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>o,av:()=>d,j7:()=>i,tU:()=>c});var a=t(28625),n=t(64996),r=t(37384),l=t(37284);let c=r.bL,i=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.B8,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));i.displayName=r.B8.displayName;let o=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));o.displayName=r.l9.displayName;let d=n.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));d.displayName=r.UC.displayName},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37384:(e,s,t)=>{"use strict";t.d(s,{B8:()=>S,UC:()=>T,bL:()=>I,l9:()=>E});var a=t(64996),n=t(17979),r=t(68415),l=t(97952),c=t(35521),i=t(5413),o=t(76965),d=t(6309),u=t(10353),m=t(28625),x="Tabs",[h,p]=(0,r.A)(x,[l.RG]),f=(0,l.RG)(),[v,j]=h(x),b=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,onValueChange:n,defaultValue:r,orientation:l="horizontal",dir:c,activationMode:h="automatic",...p}=e,f=(0,o.jH)(c),[j,b]=(0,d.i)({prop:a,onChange:n,defaultProp:r??"",caller:x});return(0,m.jsx)(v,{scope:t,baseId:(0,u.B)(),value:j,onValueChange:b,orientation:l,dir:f,activationMode:h,children:(0,m.jsx)(i.sG.div,{dir:f,"data-orientation":l,...p,ref:s})})});b.displayName=x;var y="TabsList",g=a.forwardRef((e,s)=>{let{__scopeTabs:t,loop:a=!0,...n}=e,r=j(y,t),c=f(t);return(0,m.jsx)(l.bL,{asChild:!0,...c,orientation:r.orientation,dir:r.dir,loop:a,children:(0,m.jsx)(i.sG.div,{role:"tablist","aria-orientation":r.orientation,...n,ref:s})})});g.displayName=y;var N="TabsTrigger",A=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,disabled:r=!1,...c}=e,o=j(N,t),d=f(t),u=R(o.baseId,a),x=k(o.baseId,a),h=a===o.value;return(0,m.jsx)(l.q7,{asChild:!0,...d,focusable:!r,active:h,children:(0,m.jsx)(i.sG.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...c,ref:s,onMouseDown:(0,n.mK)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:(0,n.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:(0,n.mK)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||r||!e||o.onValueChange(a)})})})});A.displayName=N;var w="TabsContent",C=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:n,forceMount:r,children:l,...o}=e,d=j(w,t),u=R(d.baseId,n),x=k(d.baseId,n),h=n===d.value,p=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(c.C,{present:r||h,children:({present:t})=>(0,m.jsx)(i.sG.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:x,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&l})})});function R(e,s){return`${e}-trigger-${s}`}function k(e,s){return`${e}-content-${s}`}C.displayName=w;var I=b,S=g,E=A,T=C},47195:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(33922).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},51275:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(33922).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},53307:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/p/Project/v0-permoney/frontend/src/app/accounts/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/p/Project/v0-permoney/frontend/src/app/accounts/page.tsx","default")},54614:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>J});var a=t(28625),n=t(64996),r=t(10565),l=t(3338),c=t(4715),i=t(7909),o=t(3062),d=t(20951),u=t(22779),m=t(29282),x=t(3359),h=t(25144),p=t(63088),f=t(29291),v=t(13457),j=t(33679),b=t(41645),y=t(19950),g=t(86493),N=t(38360),A=t(41274);let w=(0,t(33922).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var C=t(64975),R=t(47195),k=t(33272),I=t(83848),S=t(6228);let E=p.Ik({name:p.Yj().min(1,"Account name is required").max(100,"Account name too long"),type:p.k5(["ASSET","LIABILITY"],{required_error:"Account type is required"}),subtype:p.Yj().min(1,"Account subtype is required"),currency:p.Yj().min(3,"Currency is required").max(3,"Currency must be 3 characters"),initialBalance:p.Yj().refine(e=>!isNaN(parseFloat(e)),"Initial balance must be a valid number"),accountNumber:p.Yj().optional(),institutionName:p.Yj().optional(),description:p.Yj().optional(),isActive:p.zM()}),T=[{value:"ASSET",label:"Asset",description:"Accounts that hold money (checking, savings, investments)",icon:g.A,color:"text-green-600"},{value:"LIABILITY",label:"Liability",description:"Accounts that owe money (credit cards, loans)",icon:N.A,color:"text-red-600"}],M=[{value:"BANK",label:"Bank Account",icon:"\uD83C\uDFE6"},{value:"SAVINGS",label:"Savings Account",icon:"\uD83D\uDCB0"},{value:"INVESTMENT",label:"Investment Account",icon:"\uD83D\uDCC8"},{value:"CASH",label:"Cash",icon:"\uD83D\uDCB5"},{value:"CRYPTO",label:"Cryptocurrency",icon:"₿"},{value:"OTHER",label:"Other Asset",icon:"\uD83D\uDCBC"}],B=[{value:"CREDIT_CARD",label:"Credit Card",icon:"\uD83D\uDCB3"},{value:"LOAN",label:"Loan",icon:"\uD83C\uDFE0"},{value:"MORTGAGE",label:"Mortgage",icon:"\uD83C\uDFE1"},{value:"LINE_OF_CREDIT",label:"Line of Credit",icon:"\uD83D\uDCCB"},{value:"OTHER",label:"Other Liability",icon:"\uD83D\uDCC4"}],D=[{value:"IDR",label:"Indonesian Rupiah (IDR)",symbol:"Rp"},{value:"USD",label:"US Dollar (USD)",symbol:"$"},{value:"EUR",label:"Euro (EUR)",symbol:"€"},{value:"SGD",label:"Singapore Dollar (SGD)",symbol:"S$"},{value:"MYR",label:"Malaysian Ringgit (MYR)",symbol:"RM"}];function G({account:e,onSuccess:s,onCancel:t}){let[i,o]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),m=(0,x.mN)({resolver:(0,h.u)(E),defaultValues:{name:e?.name||"",type:e?.type||"ASSET",subtype:e?.subtype||"",currency:e?.currency||"IDR",initialBalance:e?.balanceCents?(e.balanceCents/100).toString():"0",accountNumber:e?.accountNumber||"",institutionName:e?.institutionName||"",description:e?.description||"",isActive:e?.isActive??!0}}),p=m.watch("type"),g=m.watch("currency"),N=m.watch("initialBalance"),G=async t=>{o(!0);try{let a=parseFloat(t.initialBalance),n={name:t.name,type:t.type,subtype:t.subtype,currency:t.currency,balanceCents:Math.round(100*a),accountNumber:t.accountNumber||void 0,institutionName:t.institutionName||void 0,description:t.description||void 0,isActive:t.isActive};e?(await I.uE.updateAccount(e.id,n),(0,S.oR)({title:"Success",description:"Account updated successfully"})):(await I.uE.createAccount(n),(0,S.oR)({title:"Success",description:"Account created successfully"})),s?.()}catch(e){(0,S.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to save account",variant:"destructive"})}finally{o(!1)}},P=(e,s)=>{let t=parseFloat(e);return isNaN(t)?"":(D.find(e=>e.value===s),new Intl.NumberFormat("id-ID",{style:"currency",currency:s,minimumFractionDigits:0}).format(t))},F=()=>"ASSET"===p?M:B,L=T.find(e=>e.value===p),K=D.find(e=>e.value===g);return(0,a.jsxs)(r.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[L&&(0,a.jsx)(L.icon,{className:`h-5 w-5 ${L.color}`}),e?"Edit Account":"Add New Account"]}),(0,a.jsxs)(r.BT,{children:[e?"Update account details":"Create a new financial account",N&&K&&(0,a.jsx)(l.E,{variant:"outline",className:"ml-2",children:P(N,g)})]})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)(b.lV,{...m,children:(0,a.jsxs)("form",{onSubmit:m.handleSubmit(G),className:"space-y-6",children:[(0,a.jsx)(b.zB,{control:m.control,name:"type",render:({field:e})=>(0,a.jsxs)(b.eI,{children:[(0,a.jsx)(b.lR,{children:"Account Type"}),(0,a.jsxs)(j.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(b.MJ,{children:(0,a.jsx)(j.bq,{children:(0,a.jsx)(j.yv,{placeholder:"Select account type"})})}),(0,a.jsx)(j.gC,{children:T.map(e=>{let s=e.icon;return(0,a.jsx)(j.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s,{className:`h-4 w-4 ${e.color}`}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]})]})},e.value)})})]}),(0,a.jsx)(b.C5,{})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(b.zB,{control:m.control,name:"name",render:({field:e})=>(0,a.jsxs)(b.eI,{children:[(0,a.jsx)(b.lR,{children:"Account Name"}),(0,a.jsx)(b.MJ,{children:(0,a.jsx)(f.p,{placeholder:"e.g., BCA Checking",disabled:i,...e})}),(0,a.jsx)(b.C5,{})]})}),(0,a.jsx)(b.zB,{control:m.control,name:"subtype",render:({field:e})=>(0,a.jsxs)(b.eI,{children:[(0,a.jsx)(b.lR,{children:"Account Subtype"}),(0,a.jsxs)(j.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(b.MJ,{children:(0,a.jsx)(j.bq,{children:(0,a.jsx)(j.yv,{placeholder:"Select subtype"})})}),(0,a.jsx)(j.gC,{children:F().map(e=>(0,a.jsx)(j.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:e.icon}),e.label]})},e.value))})]}),(0,a.jsx)(b.C5,{})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(b.zB,{control:m.control,name:"currency",render:({field:e})=>(0,a.jsxs)(b.eI,{children:[(0,a.jsx)(b.lR,{children:"Currency"}),(0,a.jsxs)(j.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(b.MJ,{children:(0,a.jsx)(j.bq,{children:(0,a.jsx)(j.yv,{placeholder:"Select currency"})})}),(0,a.jsx)(j.gC,{children:D.map(e=>(0,a.jsx)(j.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-mono",children:e.symbol}),e.label]})},e.value))})]}),(0,a.jsx)(b.C5,{})]})}),(0,a.jsx)(b.zB,{control:m.control,name:"initialBalance",render:({field:s})=>(0,a.jsxs)(b.eI,{children:[(0,a.jsxs)(b.lR,{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),e?"Current Balance":"Initial Balance"]}),(0,a.jsx)(b.MJ,{children:(0,a.jsx)(f.p,{type:"number",step:"0.01",placeholder:"0.00",disabled:i,...s})}),(0,a.jsx)(b.Rr,{children:s.value&&K&&P(s.value,K.value)}),(0,a.jsx)(b.C5,{})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(b.zB,{control:m.control,name:"institutionName",render:({field:e})=>(0,a.jsxs)(b.eI,{children:[(0,a.jsxs)(b.lR,{className:"flex items-center gap-2",children:[(0,a.jsx)(w,{className:"h-4 w-4"}),"Institution Name (Optional)"]}),(0,a.jsx)(b.MJ,{children:(0,a.jsx)(f.p,{placeholder:"e.g., Bank Central Asia",disabled:i,...e})}),(0,a.jsx)(b.C5,{})]})}),(0,a.jsx)(b.zB,{control:m.control,name:"accountNumber",render:({field:e})=>(0,a.jsxs)(b.eI,{children:[(0,a.jsxs)(b.lR,{className:"flex items-center gap-2",children:["Account Number (Optional)",(0,a.jsx)(c.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>u(!d),children:d?(0,a.jsx)(C.A,{className:"h-4 w-4"}):(0,a.jsx)(R.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(b.MJ,{children:(0,a.jsx)(f.p,{type:d?"text":"password",placeholder:"Account number",disabled:i,...e})}),(0,a.jsx)(b.Rr,{children:"This information is encrypted and stored securely"}),(0,a.jsx)(b.C5,{})]})}),(0,a.jsx)(b.zB,{control:m.control,name:"description",render:({field:e})=>(0,a.jsxs)(b.eI,{children:[(0,a.jsx)(b.lR,{children:"Description (Optional)"}),(0,a.jsx)(b.MJ,{children:(0,a.jsx)(v.T,{placeholder:"Add any additional notes about this account...",disabled:i,rows:3,...e})}),(0,a.jsx)(b.C5,{})]})}),(0,a.jsx)(b.zB,{control:m.control,name:"isActive",render:({field:e})=>(0,a.jsxs)(b.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(b.lR,{className:"text-base",children:"Active Account"}),(0,a.jsx)(b.Rr,{children:"Include this account in calculations and reports"})]}),(0,a.jsx)(b.MJ,{children:(0,a.jsx)(y.Switch,{checked:e.value,onCheckedChange:e.onChange,disabled:i})})]})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(c.$,{type:"submit",className:`flex-1 ${"ASSET"===p?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,disabled:i,children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Updating...":"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[L&&(0,a.jsx)(L.icon,{className:"mr-2 h-4 w-4"}),e?"Update Account":"Create Account"]})}),t&&(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:t,disabled:i,children:"Cancel"})]})]})})})]})}function P({open:e,onOpenChange:s,account:t,onSuccess:n}){return(0,a.jsx)(d.lG,{open:e,onOpenChange:s,children:(0,a.jsxs)(d.Cf,{className:"w-[95vw] sm:max-w-2xl max-h-[90vh] overflow-y-auto transition-all",children:[(0,a.jsx)(d.c7,{children:(0,a.jsx)(d.L3,{children:t?"Edit Account":"Add New Account"})}),(0,a.jsxs)(u.tU,{defaultValue:"details",className:"mt-2",children:[(0,a.jsxs)(u.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(u.Xi,{value:"details","aria-label":"Account details",children:"Details"}),(0,a.jsx)(u.Xi,{value:"insights","aria-label":"AI insights",children:"AI Insights"}),(0,a.jsx)(u.Xi,{value:"islamic","aria-label":"Islamic finance tools",children:"Islamic"}),(0,a.jsx)(u.Xi,{value:"ocr","aria-label":"Receipt OCR",children:"OCR"})]}),(0,a.jsx)(u.av,{value:"details",className:"mt-4",children:(0,a.jsx)(G,{account:t,onSuccess:()=>{n?.(),s(!1)},onCancel:()=>{s(!1)}})}),(0,a.jsx)(u.av,{value:"insights",className:"mt-4",children:(0,a.jsx)(F,{})}),(0,a.jsxs)(u.av,{value:"islamic",className:"mt-4 space-y-4",children:[(0,a.jsx)(L,{accountId:t?.id}),(0,a.jsx)(K,{})]}),(0,a.jsx)(u.av,{value:"ocr",className:"mt-4",children:(0,a.jsx)(q,{})})]})]})})}let F=(0,m.default)(async()=>{},{loadableGenerated:{modules:["components/modals/account-modal.tsx -> @/components/insights/ai-insights-panel"]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"h-24 animate-pulse rounded-md bg-muted"})})}),L=(0,m.default)(async()=>{},{loadableGenerated:{modules:["components/modals/account-modal.tsx -> @/components/islamic/sharia-compliance-panel"]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"h-24 animate-pulse rounded-md bg-muted"})})}),K=(0,m.default)(async()=>{},{loadableGenerated:{modules:["components/modals/account-modal.tsx -> @/components/islamic/zakat-quick-calculator"]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"h-24 animate-pulse rounded-md bg-muted"})})}),q=(0,m.default)(async()=>{},{loadableGenerated:{modules:["components/modals/account-modal.tsx -> @/components/ocr/receipt-ocr-upload"]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"h-24 animate-pulse rounded-md bg-muted"})})});var V=t(93573),z=t(93683),U=t(19084),_=t(51936),$=t(47887),O=t(8837),Z=t(51275),Y=t(37284);let H=(e,s)=>{if("LIABILITY"===e)return N.A;switch(s?.toUpperCase()){case"BANK":case"CHECKING":return N.A;case"SAVINGS":return V.A;case"INVESTMENT":return z.A;case"CASH":return g.A;default:return w}};function J(){let[e,s]=(0,n.useState)([]),[t,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),[v,j]=(0,n.useState)(!1),b=async()=>{try{d(!0),m(null);let e=(await I.uE.getAccounts({isActive:!0})).map(e=>{let s=(0,Y.Ju)(e.balanceCents??e.currentBalanceCents??e.calculatedBalance,0),t=e.currency??"IDR";return{...e,balanceCents:s,balance:(0,Y.sp)(s),currency:t,icon:H(e.type,e.subtype)}});s(e)}catch(e){console.error("Failed to fetch accounts:",e),m(e instanceof Error?e.message:"Failed to fetch accounts"),s([{id:"1",name:"BCA Checking",type:"ASSET",subtype:"BANK",balance:1575e4,balanceCents:1575e6,currency:"IDR",isActive:!0,icon:N.A},{id:"2",name:"Mandiri Savings",type:"ASSET",subtype:"SAVINGS",balance:452e5,balanceCents:452e7,currency:"IDR",isActive:!0,icon:V.A},{id:"3",name:"Cash Wallet",type:"ASSET",subtype:"CASH",balance:25e5,balanceCents:25e7,currency:"IDR",isActive:!0,icon:g.A}])}finally{d(!1)}},y=()=>{f(null),h(!0)},A=e=>{f(e),h(!0)},C=async e=>{if(confirm("Are you sure you want to delete this account?"))try{await I.uE.deleteAccount(e),(0,S.oR)({title:"Success",description:"Account deleted successfully"}),b()}catch(e){(0,S.oR)({title:"Error",description:e instanceof Error?e.message:"Failed to delete account",variant:"destructive"})}},E=async()=>{j(!0),await b(),j(!1)},T=e.reduce((e,s)=>e+s.balance,0),M=e.filter(e=>"ASSET"===e.type),B=e.filter(e=>"LIABILITY"===e.type);return t?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.EA,{className:"h-8 w-48"}),(0,a.jsx)(o.EA,{className:"h-4 w-64 mt-2"})]}),(0,a.jsx)(o.EA,{className:"h-10 w-32"})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(o.EA,{className:"h-4 w-24"}),(0,a.jsx)(o.EA,{className:"h-6 w-32"})]})},s))})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Accounts"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your financial accounts and track balances"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(c.$,{variant:"outline",onClick:E,disabled:v,children:[v?(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(U.A,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,a.jsxs)(c.$,{onClick:y,children:[(0,a.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Add Account"]})]})]}),u&&(0,a.jsxs)(i.Fc,{variant:"destructive",children:[(0,a.jsx)($.A,{className:"h-4 w-4"}),(0,a.jsx)(i.TN,{children:u})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Assets"}),(0,a.jsx)(z.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,Y.vv)(M.reduce((e,s)=>e+s.balance,0))}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[M.length," asset accounts"]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Liabilities"}),(0,a.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(0,Y.vv)(B.reduce((e,s)=>e+s.balance,0))}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[B.length," liability accounts"]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Net Worth"}),(0,a.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(0,Y.vv)(T)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Across ",e.length," accounts"]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Active Accounts"}),(0,a.jsx)(w,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.filter(e=>e.isActive).length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",e.length," total"]})]})]})]}),0===e.length?(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(g.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No accounts found"}),(0,a.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"Get started by adding your first financial account"}),(0,a.jsxs)(c.$,{onClick:y,children:[(0,a.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Add Your First Account"]})]})}):(0,a.jsx)("div",{className:"grid gap-4",children:e.map(e=>{let s=e.icon,t="ASSET"===e.type;return(0,a.jsxs)(r.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:`p-2 rounded-lg ${t?"bg-green-100":"bg-red-100"}`,children:(0,a.jsx)(s,{className:`h-6 w-6 ${t?"text-green-600":"text-red-600"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ZB,{className:"text-lg",children:e.name}),(0,a.jsxs)(r.BT,{children:[e.subtype||e.type," • ",e.currency]})]})]}),(0,a.jsx)(l.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:`text-2xl font-bold ${t?"text-green-600":"text-red-600"}`,children:(0,Y.vv)(e.balance,e.currency??"IDR")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Current Balance"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(c.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(R.A,{className:"mr-1 h-3 w-3"}),"View"]}),(0,a.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>A(e),children:[(0,a.jsx)(O.A,{className:"mr-1 h-3 w-3"}),"Edit"]}),(0,a.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>C(e.id),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(Z.A,{className:"h-3 w-3"})})]})]})})]},e.id)})}),(0,a.jsx)(P,{open:x,onOpenChange:h,account:p,onSuccess:()=>{b()}})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64975:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(33922).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},75798:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o});var a=t(5853),n=t(60554),r=t(30708),l=t.n(r),c=t(8067),i={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);t.d(s,i);let o={children:["",{children:["accounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,53307)),"/Users/p/Project/v0-permoney/frontend/src/app/accounts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,25347)),"/Users/p/Project/v0-permoney/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,40417)),"/Users/p/Project/v0-permoney/frontend/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,82137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,48358,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/p/Project/v0-permoney/frontend/src/app/accounts/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/accounts/page",pathname:"/accounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},93573:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(33922).A)("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]])},97952:(e,s,t)=>{"use strict";t.d(s,{RG:()=>g,bL:()=>E,q7:()=>T});var a=t(64996),n=t(17979),r=t(19392),l=t(72497),c=t(68415),i=t(10353),o=t(5413),d=t(92561),u=t(6309),m=t(76965),x=t(28625),h="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[v,j,b]=(0,r.N)(f),[y,g]=(0,c.A)(f,[b]),[N,A]=y(f),w=a.forwardRef((e,s)=>(0,x.jsx)(v.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(v.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(C,{...e,ref:s})})}));w.displayName=f;var C=a.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:t,orientation:r,loop:c=!1,dir:i,currentTabStopId:v,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:y,onEntryFocus:g,preventScrollOnEntryFocus:A=!1,...w}=e,C=a.useRef(null),R=(0,l.s)(s,C),k=(0,m.jH)(i),[I,E]=(0,u.i)({prop:v,defaultProp:b??null,onChange:y,caller:f}),[T,M]=a.useState(!1),B=(0,d.c)(g),D=j(t),G=a.useRef(!1),[P,F]=a.useState(0);return a.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(h,B),()=>e.removeEventListener(h,B)},[B]),(0,x.jsx)(N,{scope:t,orientation:r,dir:k,loop:c,currentTabStopId:I,onItemFocus:a.useCallback(e=>E(e),[E]),onItemShiftTab:a.useCallback(()=>M(!0),[]),onFocusableItemAdd:a.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>F(e=>e-1),[]),children:(0,x.jsx)(o.sG.div,{tabIndex:T||0===P?-1:0,"data-orientation":r,...w,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,n.mK)(e.onMouseDown,()=>{G.current=!0}),onFocus:(0,n.mK)(e.onFocus,e=>{let s=!G.current;if(e.target===e.currentTarget&&s&&!T){let s=new CustomEvent(h,p);if(e.currentTarget.dispatchEvent(s),!s.defaultPrevented){let e=D().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===I),...e].filter(Boolean).map(e=>e.ref.current),A)}}G.current=!1}),onBlur:(0,n.mK)(e.onBlur,()=>M(!1))})})}),R="RovingFocusGroupItem",k=a.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:t,focusable:r=!0,active:l=!1,tabStopId:c,children:d,...u}=e,m=(0,i.B)(),h=c||m,p=A(R,t),f=p.currentTabStopId===h,b=j(t),{onFocusableItemAdd:y,onFocusableItemRemove:g,currentTabStopId:N}=p;return a.useEffect(()=>{if(r)return y(),()=>g()},[r,y,g]),(0,x.jsx)(v.ItemSlot,{scope:t,id:h,focusable:r,active:l,children:(0,x.jsx)(o.sG.span,{tabIndex:f?0:-1,"data-orientation":p.orientation,...u,ref:s,onMouseDown:(0,n.mK)(e.onMouseDown,e=>{r?p.onItemFocus(h):e.preventDefault()}),onFocus:(0,n.mK)(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:(0,n.mK)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){p.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let s=function(e,s,t){var a;let n=(a=e.key,"rtl"!==t?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===s&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===s&&["ArrowUp","ArrowDown"].includes(n)))return I[n]}(e,p.orientation,p.dir);if(void 0!==s){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let t=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===s)t.reverse();else if("prev"===s||"next"===s){"prev"===s&&t.reverse();let a=t.indexOf(e.currentTarget);t=p.loop?function(e,s){return e.map((t,a)=>e[(s+a)%e.length])}(t,a+1):t.slice(a+1)}setTimeout(()=>S(t))}}),children:"function"==typeof d?d({isCurrentTabStop:f,hasTabStop:null!=N}):d})})});k.displayName=R;var I={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e,s=!1){let t=document.activeElement;for(let a of e)if(a===t||(a.focus({preventScroll:s}),document.activeElement!==t))return}var E=w,T=k},98353:(e,s,t)=>{Promise.resolve().then(t.bind(t,54614))}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[625,303,216,336,19,190],()=>t(75798));module.exports=a})();